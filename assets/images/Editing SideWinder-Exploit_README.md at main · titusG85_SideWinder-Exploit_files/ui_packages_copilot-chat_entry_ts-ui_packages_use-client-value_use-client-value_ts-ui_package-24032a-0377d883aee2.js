"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_entry_ts-ui_packages_use-client-value_use-client-value_ts-ui_package-24032a"],{33448:(e,t,n)=>{var r,o=n(52497),i=n(74848),a=n(21728),s=n(95776),l=n(68415),c=n(34901),d=n(47397),m=n(22069),h=n(97286),p=n(39459),u=n(96235),f=n(98075),x=n(96679),g=n(40245),b=n(22279),y=n(38621),j=n(52464),w=n(75177),v=n(89169),S=n(30631),_=n(10871),C=n(87330),O=n(96540),N=n(9677),I=n(45968);function D(e){let t,n,r,o,s=(0,a.c)(11),{lineNumbers:l,lines:c,trimLineBeginnings:d}=e;if(s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",overflowX:"auto",pb:3},n={fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},s[0]=t,s[1]=n):(t=s[0],n=s[1]),s[2]!==l||s[3]!==c||s[4]!==d){let e;s[6]!==c||s[7]!==d?(e=(e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e},e),(0,i.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,i.jsx)(I.$6,{html:d?(c[t]??"").trimStart():c[t]||`
`},`line-${t}`)})]},`line-row-${e}`),s[6]=c,s[7]=d,s[8]=e):e=s[8],r=l.map(e),s[2]=l,s[3]=c,s[4]=d,s[5]=r}else r=s[5];return s[9]!==r?(o=(0,i.jsx)(w.A,{sx:t,children:(0,i.jsx)("table",{style:n,children:r})}),s[9]=r,s[10]=o):o=s[10],o}try{D.displayName||(D.displayName="SimpleCodeListing")}catch{}function k(e){let t,n,r,o,s,l,c,d,m,h,x,S,_,C,I,k,E,T,V,F,B,$,z,W,M,H,U,G,X,Q,J=(0,a.c)(88),{reference:q,details:K,detailsLoading:Y,detailsError:Z,onDismiss:ee}=e,{contributors:et}=(0,g.u)(q.repoOwner,q.repoName,q.commitOID,q.path),[en]=(0,b.E)(q.repoOwner,q.repoName,q.commitOID,q.path),{lines:er,lineNumbers:eo,expandUp:ei,expandDown:ea}=function(e,t,n){let r,o,i,s,l,c,d,m,h=(0,a.c)(42),[p,u]=(0,O.useState)(e?.start??-1),[f,x]=(0,O.useState)(e?.end??-1);h[0]!==n||h[1]!==t||h[2]!==e?(r=n&&e&&t?n.slice(e.start-t.start,e.end-t.start+1):[],h[0]=n,h[1]=t,h[2]=e,h[3]=r):r=h[3];let[g,b]=(0,O.useState)(r);h[4]!==n||h[5]!==f||h[6]!==t||h[7]!==e||h[8]!==p?(o=(r,o)=>{let i=void 0===r?p:r,a=void 0===o?f:o;n&&e&&t&&!(i<0)&&!(a<0)&&b(n.slice(i-t.start,a-t.start+1))},h[4]=n,h[5]=f,h[6]=t,h[7]=e,h[8]=p,h[9]=o):o=h[9];let y=o;h[10]!==n||h[11]!==f||h[12]!==e||h[13]!==p||h[14]!==y?(i=()=>{if(e&&n&&(-1===p||-1===f)){let t=e.start,n=e.end;u(t),x(n),y(t,n)}},h[10]=n,h[11]=f,h[12]=e,h[13]=p,h[14]=y,h[15]=i):i=h[15],h[16]!==n||h[17]!==f||h[18]!==t||h[19]!==e||h[20]!==p||h[21]!==y?(s=[n,e,t,y,p,f],h[16]=n,h[17]=f,h[18]=t,h[19]=e,h[20]=p,h[21]=y,h[22]=s):s=h[22],(0,O.useEffect)(i,s),h[23]!==t?.start||h[24]!==p||h[25]!==y?(l=()=>{let e=Math.max(p-P,t?.start??-1);u(e),y(e)},h[23]=t?.start,h[24]=p,h[25]=y,h[26]=l):l=h[26],t?.start;let j=l;h[27]!==f||h[28]!==t?.end||h[29]!==p||h[30]!==y?(c=()=>{let e=Math.min(f+P,t?.end??-1);x(e),y(p,e)},h[27]=f,h[28]=t?.end,h[29]=p,h[30]=y,h[31]=c):c=h[31],t?.end;let w=c,v=-1!==p&&p!==t?.start,S=-1!==f&&f!==t?.end;if(h[32]!==g||h[33]!==p){let e;h[35]!==p?(e=(e,t)=>p+t,h[35]=p,h[36]=e):e=h[36],d=g.map(e),h[32]=g,h[33]=p,h[34]=d}else d=h[34];let _=v?j:null,C=S?w:null;return h[37]!==g||h[38]!==d||h[39]!==_||h[40]!==C?(m={lines:g,lineNumbers:d,expandUp:_,expandDown:C},h[37]=g,h[38]=d,h[39]=_,h[40]=C,h[41]=m):m=h[41],m}(K?.range,K?.expandedRange,K?.highlightedContents),es=K?.headerInfo,el=K?.repoIsOrgOwned,ec=`${q.repoOwner}.png`;return J[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},J[0]=t):t=J[0],J[1]!==el||J[2]!==ec?(n=(0,i.jsx)(p.r,{square:el,src:ec,sx:t}),J[1]=el,J[2]=ec,J[3]=n):n=J[3],J[4]===Symbol.for("react.memo_cache_sentinel")?(r={fontWeight:600,whiteSpace:"nowrap"},J[4]=r):r=J[4],J[5]!==q.repoName||J[6]!==q.repoOwner?(o=(0,i.jsxs)(j.A,{sx:r,children:[q.repoOwner,"/",q.repoName]}),J[5]=q.repoName,J[6]=q.repoOwner,J[7]=o):o=J[7],J[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),J[8]=s):s=J[8],J[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},J[9]=l):l=J[9],J[10]!==q.ref?(c=(0,f.gE)(q.ref),J[10]=q.ref,J[11]=c):c=J[11],J[12]!==c?(d=(0,i.jsx)(j.A,{sx:l,children:c}),J[12]=c,J[13]=d):d=J[13],J[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),J[14]=m):m=J[14],J[15]===Symbol.for("react.memo_cache_sentinel")?(h={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},J[15]=h):h=J[15],J[16]!==q.path?(x=(0,i.jsx)(j.A,{sx:h,children:q.path}),J[16]=q.path,J[17]=x):x=J[17],J[18]!==q.range||J[19]!==q.type?(S="snippet"===q.type&&(0,i.jsxs)("span",{children:[":",q.range.start,"-",q.range.end]}),J[18]=q.range,J[19]=q.type,J[20]=S):S=J[20],J[21]!==ee||J[22]!==d||J[23]!==x||J[24]!==S||J[25]!==n||J[26]!==o?(_=(0,i.jsxs)(N.O.Header,{onDismiss:ee,children:[n,o,s,d,m,x,S]}),J[21]=ee,J[22]=d,J[23]=x,J[24]=S,J[25]=n,J[26]=o,J[27]=_):_=J[27],J[28]===Symbol.for("react.memo_cache_sentinel")?(C={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},J[28]=C):C=J[28],J[29]!==es?(I=es&&(0,i.jsx)(A,{headerInfo:es}),J[29]=es,J[30]=I):I=J[30],J[31]!==es?(k=es&&(0,i.jsx)(R,{headerInfo:es}),J[31]=es,J[32]=k):k=J[32],J[33]!==I||J[34]!==k?(E=(0,i.jsxs)(L,{children:[I,k]}),J[33]=I,J[34]=k,J[35]=E):E=J[35],J[36]!==ei?(T=ei&&(0,i.jsx)(N.O.ContentExpander,{direction:"above",onExpand:ei}),J[36]=ei,J[37]=T):T=J[37],J[38]!==eo||J[39]!==er?(V=(0,i.jsx)(N.O.Content,{children:(0,i.jsx)(D,{lines:er,lineNumbers:eo})}),J[38]=eo,J[39]=er,J[40]=V):V=J[40],J[41]!==ea?(F=ea&&(0,i.jsx)(N.O.ContentExpander,{direction:"below",onExpand:ea}),J[41]=ea,J[42]=F):F=J[42],J[43]!==E||J[44]!==T||J[45]!==V||J[46]!==F?(B=(0,i.jsxs)(w.A,{sx:C,children:[E,T,V,F]}),J[43]=E,J[44]=T,J[45]=V,J[46]=F,J[47]=B):B=J[47],J[48]!==q.repoName||J[49]!==q.repoOwner?($=(0,u.Do2)({name:q.repoName,ownerLogin:q.repoOwner}),J[48]=q.repoName,J[49]=q.repoOwner,J[50]=$):$=J[50],J[51]!==q.repoName||J[52]!==q.repoOwner||J[53]!==$?(z=(0,i.jsxs)(N.O.DetailLink,{href:$,icon:y.RepoIcon,children:[q.repoOwner,"/",q.repoName]}),J[51]=q.repoName,J[52]=q.repoOwner,J[53]=$,J[54]=z):z=J[54],J[55]!==et||J[56]!==K?.range||J[57]!==q.commitOID||J[58]!==q.path||J[59]!==q.repoName||J[60]!==q.repoOwner?(W=et&&(0,i.jsxs)(N.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:q.repoOwner,repo:q.repoName,commitish:q.commitOID,filePath:q.path,lineNumber:K?.range.start}),children:[et.totalCount," ",1===et.totalCount?"contributor":"contributors"]}),J[55]=et,J[56]=K?.range,J[57]=q.commitOID,J[58]=q.path,J[59]=q.repoName,J[60]=q.repoOwner,J[61]=W):W=J[61],J[62]!==en||J[63]!==q.repoName||J[64]!==q.repoOwner?(M=en&&(0,i.jsxs)(N.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:q.repoOwner,repo:q.repoName,commitish:en?.oid}),children:[en?.author?.displayName," updated ",(0,i.jsx)(v.A,{datetime:en?.date})]}),J[62]=en,J[63]=q.repoName,J[64]=q.repoOwner,J[65]=M):M=J[65],J[66]!==q.range||J[67]!==q.type?(H="snippet"===q.type?(0,i.jsxs)(i.Fragment,{children:["#",q.range.start,"-",q.range.end]}):null,J[66]=q.range,J[67]=q.type,J[68]=H):H=J[68],J[69]!==q.path||J[70]!==q.repoName||J[71]!==q.repoOwner||J[72]!==q.url||J[73]!==H?(U=(0,i.jsxs)(N.O.DetailLink,{icon:y.LinkExternalIcon,href:q.url,children:[q.repoOwner,"/",q.repoName,"/",q.path,H]}),J[69]=q.path,J[70]=q.repoName,J[71]=q.repoOwner,J[72]=q.url,J[73]=H,J[74]=U):U=J[74],J[75]!==z||J[76]!==W||J[77]!==M||J[78]!==U?(G=(0,i.jsxs)(N.O.Details,{children:[z,W,M,U]}),J[75]=z,J[76]=W,J[77]=M,J[78]=U,J[79]=G):G=J[79],J[80]!==Z||J[81]!==Y||J[82]!==B||J[83]!==G?(X=(0,i.jsxs)(N.O.Body,{detailsError:Z,detailsLoading:Y,children:[B,G]}),J[80]=Z,J[81]=Y,J[82]=B,J[83]=G,J[84]=X):X=J[84],J[85]!==_||J[86]!==X?(Q=(0,i.jsxs)(N.O.Frame,{children:[_,X]}),J[85]=_,J[86]=X,J[87]=Q):Q=J[87],Q}function L(e){let t,n,r=(0,a.c)(3),{children:o}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},r[0]=t):t=r[0],r[1]!==o?(n=(0,i.jsx)(w.A,{sx:t,children:o}),r[1]=o,r[2]=n):n=r[2],n}function A(e){let t,n,r,o=(0,a.c)(6),{headerInfo:s}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:"100%",color:"fg.subtle"},o[0]=t):t=o[0];let l=`${s.lineInfo.truncatedLoc} lines (${s.lineInfo.truncatedSloc} loc) \xb7 ${s.blobSize}`;return o[1]!==l?(n=(0,i.jsx)("span",{children:l}),o[1]=l,o[2]=n):n=o[2],o[3]!==s.blobSize||o[4]!==n?(r=(0,i.jsx)(S.A,{title:s.blobSize,inline:!0,sx:t,"data-testid":"blob-size",children:n}),o[3]=s.blobSize,o[4]=n,o[5]=r):r=o[5],r}function R(e){let t,n=(0,a.c)(17),{headerInfo:r}=e;if(n[0]!==r.displayName||n[1]!==r.isLfs||n[2]!==r.rawBlobUrl||n[3]!==r.viewable){let e,o,a,s,l,c,d=new URL(r.rawBlobUrl,x.fV.origin);d.searchParams.set("download",""),n[5]!==r.displayName||n[6]!==r.isLfs||n[7]!==r.rawBlobUrl?(e=async()=>{r.isLfs||await T(r.rawBlobUrl,r.displayName)},n[5]=r.displayName,n[6]=r.isLfs,n[7]=r.rawBlobUrl,n[8]=e):e=n[8],n[9]===Symbol.for("react.memo_cache_sentinel")?(o={borderTopLeftRadius:0,borderBottomLeftRadius:0},n[9]=o):o=n[9],n[10]!==e?(a={"aria-label":"Download raw content",icon:y.DownloadIcon,size:"small",onClick:e,"data-testid":"download-raw-button",sx:o},n[10]=e,n[11]=a):a=n[11];let m=a;n[12]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex"},n[12]=s):s=n[12];let h=r.viewable?void 0:"true";n[13]===Symbol.for("react.memo_cache_sentinel")?(l={linkButtonSx:E,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},n[13]=l):l=n[13],n[14]!==r.rawBlobUrl||n[15]!==h?(c=(0,i.jsx)(_.z,{href:r.rawBlobUrl,download:h,size:"small",sx:l,"data-testid":"raw-button",children:"Raw"}),n[14]=r.rawBlobUrl,n[15]=h,n[16]=c):c=n[16],t=(0,i.jsxs)(w.A,{sx:s,children:[c,r.isLfs?(0,i.jsx)(C.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:d.toString(),...m}):(0,i.jsx)(C.K,{unsafeDisableTooltip:!0,...m})]}),n[0]=r.displayName,n[1]=r.isLfs,n[2]=r.rawBlobUrl,n[3]=r.viewable,n[4]=t}else t=n[4];return t}let P=25,E={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function T(e,t){let n=await fetch(e,{method:"get"}),r=await n.blob(),o=document.createElement("a");o.setAttribute("download",t);let i=URL.createObjectURL(r);o.href=i,o.setAttribute("target","_blank"),o.click(),URL.revokeObjectURL(i)}try{k.displayName||(k.displayName="CodeReferencePreview")}catch{}try{L.displayName||(L.displayName="BlobPreviewHeader")}catch{}try{A.displayName||(A.displayName="BlobSize")}catch{}try{R.displayName||(R.displayName="RawButtons")}catch{}var V=n(53110),F=n(91936);function B(e){let t,n,r,o,s,l,c,d,m,h,f,x,g,b,j,v,S,_,C,O=(0,a.c)(45),{reference:I,detailsLoading:D,detailsError:k,onDismiss:L}=e;O[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(V.A,{icon:y.GitCommitIcon,sx:{mr:2}}),O[0]=t):t=O[0],O[1]===Symbol.for("react.memo_cache_sentinel")?(n={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},O[1]=n):n=O[1],O[2]!==I.message?(r=(0,i.jsx)(w.A,{sx:n,children:I.message}),O[2]=I.message,O[3]=r):r=O[3],O[4]!==L||O[5]!==r?(o=(0,i.jsxs)(N.O.Header,{onDismiss:L,children:[t,r]}),O[4]=L,O[5]=r,O[6]=o):o=O[6],O[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},O[7]=s):s=O[7];let A=`${I.author.login}.png`;return O[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},O[8]=l):l=O[8],O[9]!==A?(c=(0,i.jsx)(p.r,{src:A,sx:l}),O[9]=A,O[10]=c):c=O[10],O[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},O[11]=d):d=O[11],O[12]!==I.author.login?(m=(0,i.jsx)(w.A,{sx:d,children:I.author.login}),O[12]=I.author.login,O[13]=m):m=O[13],O[14]!==m||O[15]!==c?(h=(0,i.jsxs)(w.A,{sx:s,children:[c,m]}),O[14]=m,O[15]=c,O[16]=h):h=O[16],O[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(w.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[17]=f):f=O[17],O[18]!==I.message?(x=(0,i.jsx)(N.O.Content,{children:(0,i.jsx)(F.To,{markdown:I.message})}),O[18]=I.message,O[19]=x):x=O[19],O[20]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)(w.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[20]=g):g=O[20],O[21]!==I.repository.name||O[22]!==I.repository.owner?(b=(0,u.Do2)({name:I.repository.name,ownerLogin:I.repository.owner}),O[21]=I.repository.name,O[22]=I.repository.owner,O[23]=b):b=O[23],O[24]!==I.repository.name||O[25]!==I.repository.owner||O[26]!==b?(j=(0,i.jsxs)(N.O.DetailLink,{href:b,icon:y.RepoIcon,children:[I.repository.owner,"/",I.repository.name]}),O[24]=I.repository.name,O[25]=I.repository.owner,O[26]=b,O[27]=j):j=O[27],O[28]!==I.oid||O[29]!==I.permalink||O[30]!==I.repository.name||O[31]!==I.repository.owner?(v=(0,i.jsxs)(N.O.DetailLink,{href:I.permalink,icon:y.LinkExternalIcon,children:[I.repository.owner,"/",I.repository.name,"/commit/",I.oid]}),O[28]=I.oid,O[29]=I.permalink,O[30]=I.repository.name,O[31]=I.repository.owner,O[32]=v):v=O[32],O[33]!==j||O[34]!==v?(S=(0,i.jsxs)(N.O.Details,{children:[j,v]}),O[33]=j,O[34]=v,O[35]=S):S=O[35],O[36]!==k||O[37]!==D||O[38]!==h||O[39]!==x||O[40]!==S?(_=(0,i.jsxs)(N.O.Body,{detailsError:k,detailsLoading:D,children:[h,f,x,g,S]}),O[36]=k,O[37]=D,O[38]=h,O[39]=x,O[40]=S,O[41]=_):_=O[41],O[42]!==_||O[43]!==o?(C=(0,i.jsxs)(N.O.Frame,{children:[o,_]}),O[42]=_,O[43]=o,O[44]=C):C=O[44],C}try{B.displayName||(B.displayName="CommitReferencePreview")}catch{}var $=n(16945);function z(e){let t,n,r,o,s,l,c,d,m,h,x,w,S,_,C,O,I,D,k,L,A,R,P=(0,a.c)(65),{reference:E,details:T,detailsLoading:V,detailsError:F,onDismiss:B}=e,{contributors:$}=(0,g.u)(E.repoOwner,E.repoName,E.commitOID,E.path),[z]=(0,b.E)(E.repoOwner,E.repoName,E.commitOID,E.path),M=T?.repoIsOrgOwned,H=`${E.repoOwner}.png`;return P[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},P[0]=t):t=P[0],P[1]!==M||P[2]!==H?(n=(0,i.jsx)(p.r,{square:M,src:H,sx:t}),P[1]=M,P[2]=H,P[3]=n):n=P[3],P[4]===Symbol.for("react.memo_cache_sentinel")?(r={fontWeight:600,whiteSpace:"nowrap"},P[4]=r):r=P[4],P[5]!==E.repoName||P[6]!==E.repoOwner?(o=(0,i.jsxs)(j.A,{sx:r,children:[E.repoOwner,"/",E.repoName]}),P[5]=E.repoName,P[6]=E.repoOwner,P[7]=o):o=P[7],P[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),P[8]=s):s=P[8],P[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},P[9]=l):l=P[9],P[10]!==E.ref?(c=(0,f.gE)(E.ref),P[10]=E.ref,P[11]=c):c=P[11],P[12]!==c?(d=(0,i.jsx)(j.A,{sx:l,children:c}),P[12]=c,P[13]=d):d=P[13],P[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),P[14]=m):m=P[14],P[15]===Symbol.for("react.memo_cache_sentinel")?(h={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},P[15]=h):h=P[15],P[16]!==E.path?(x=(0,i.jsx)(j.A,{sx:h,children:E.path}),P[16]=E.path,P[17]=x):x=P[17],P[18]!==B||P[19]!==d||P[20]!==x||P[21]!==n||P[22]!==o?(w=(0,i.jsxs)(N.O.Header,{onDismiss:B,children:[n,o,s,d,m,x]}),P[18]=B,P[19]=d,P[20]=x,P[21]=n,P[22]=o,P[23]=w):w=P[23],P[24]!==T?(S=T&&(0,i.jsx)(W,{details:T}),P[24]=T,P[25]=S):S=P[25],P[26]!==E.repoName||P[27]!==E.repoOwner?(_=(0,u.Do2)({name:E.repoName,ownerLogin:E.repoOwner}),P[26]=E.repoName,P[27]=E.repoOwner,P[28]=_):_=P[28],P[29]!==E.repoName||P[30]!==E.repoOwner||P[31]!==_?(C=(0,i.jsxs)(N.O.DetailLink,{href:_,icon:y.RepoIcon,children:[E.repoOwner,"/",E.repoName]}),P[29]=E.repoName,P[30]=E.repoOwner,P[31]=_,P[32]=C):C=P[32],P[33]!==$||P[34]!==T?.range||P[35]!==E.commitOID||P[36]!==E.path||P[37]!==E.repoName||P[38]!==E.repoOwner?(O=$&&(0,i.jsxs)(N.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:E.repoOwner,repo:E.repoName,commitish:E.commitOID,filePath:E.path,lineNumber:T?.range.start}),children:[$.totalCount," contributors"]}),P[33]=$,P[34]=T?.range,P[35]=E.commitOID,P[36]=E.path,P[37]=E.repoName,P[38]=E.repoOwner,P[39]=O):O=P[39],P[40]!==z||P[41]!==E.repoName||P[42]!==E.repoOwner?(I=z&&(0,i.jsxs)(N.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:E.repoOwner,repo:E.repoName,commitish:z?.oid}),children:[z?.author?.displayName," updated ",(0,i.jsx)(v.A,{datetime:z?.date})]}),P[40]=z,P[41]=E.repoName,P[42]=E.repoOwner,P[43]=I):I=P[43],P[44]!==T?(D=T?(0,i.jsxs)(i.Fragment,{children:["#",T.range.start,"-",T.range.end]}):null,P[44]=T,P[45]=D):D=P[45],P[46]!==E.path||P[47]!==E.repoName||P[48]!==E.repoOwner||P[49]!==E.url||P[50]!==D?(k=(0,i.jsxs)(N.O.DetailLink,{icon:y.LinkExternalIcon,href:E.url,children:[E.repoOwner,"/",E.repoName,"/",E.path,D]}),P[46]=E.path,P[47]=E.repoName,P[48]=E.repoOwner,P[49]=E.url,P[50]=D,P[51]=k):k=P[51],P[52]!==C||P[53]!==O||P[54]!==I||P[55]!==k?(L=(0,i.jsxs)(N.O.Details,{children:[C,O,I,k]}),P[52]=C,P[53]=O,P[54]=I,P[55]=k,P[56]=L):L=P[56],P[57]!==F||P[58]!==V||P[59]!==S||P[60]!==L?(A=(0,i.jsxs)(N.O.Body,{detailsLoading:V,detailsError:F,children:[S,L]}),P[57]=F,P[58]=V,P[59]=S,P[60]=L,P[61]=A):A=P[61],P[62]!==w||P[63]!==A?(R=(0,i.jsxs)(N.O.Frame,{children:[w,A]}),P[62]=w,P[63]=A,P[64]=R):R=P[64],R}function W(e){let t,n,r,o,s,l,c,d,m,h,p,u,f,x,g,b,y,j,v,S=(0,a.c)(52),{details:_}=e,[C,I]=(0,O.useState)(_.range.start),[D,k]=(0,O.useState)(_.range.end);t=H(_.contents,_.contents.length);let[P,E]=(0,O.useState)("preview");S[0]!==P?(n=e=>{let t=["preview","code"][e];t&&P!==t&&E(t)},S[0]=P,S[1]=n):n=S[1];let T=n,V=_?.headerInfo;S[2]!==_.contents||S[3]!==C?(r=()=>{I(function(e,t){let n=U(e,t),r=function(e){let t;for(let n of e)t=n;return t}(e.slice(0,n).matchAll(/^#+\s/gm));return H(e,r?.index??0)}(_.contents,C))},S[2]=_.contents,S[3]=C,S[4]=r):r=S[4];let B=r;S[5]!==_.contents||S[6]!==D||S[7]!==t?(o=()=>{let e=D;for(;e<t&&e<D+10;)e=function(e,t){let n=U(e,t),r=e.slice(n).match(/^#+\s/m),o=r?n+r.index:e.length;return H(e,o)}(_.contents,e+1);k(e-1)},S[5]=_.contents,S[6]=D,S[7]=t,S[8]=o):o=S[8];let z=o,W=_.contents;if(C){let e;if(S[9]!==D||S[10]!==W||S[11]!==C){let e=function(e,t,n=t-1){let r=-1,o=-1,i=-1;for(let a=1;;a++){if(a===t&&(o=r+1),a===n+1){i=r;break}if(-1===(r=e.indexOf(`
`,r+1)))break}return{startIndex:o,endIndex:i}}(W,C,D);e.endIndex>-1&&(W=W.slice(e.startIndex,e.endIndex)),S[9]=D,S[10]=W,S[11]=C,S[12]=W}else W=S[12];S[13]!==W?(e=W.replace(/^---\n[\s\S]*?\n---\n/,""),S[13]=W,S[14]=e):e=S[14],W=e}s=W,S[15]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},S[15]=l):l=S[15],S[16]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",alignItems:"baseline",gap:2},S[16]=c):c=S[16],S[17]===Symbol.for("react.memo_cache_sentinel")?(d={fontSize:1},S[17]=d):d=S[17];let G="preview"===P;S[18]!==G?(m=(0,i.jsx)($.I.Button,{selected:G,children:"Preview"},"preview'"),S[18]=G,S[19]=m):m=S[19];let X="code"===P;return S[20]!==X?(h=(0,i.jsx)($.I.Button,{selected:X,children:"Code"},"raw"),S[20]=X,S[21]=h):h=S[21],S[22]!==T||S[23]!==m||S[24]!==h?(p=(0,i.jsxs)($.I,{"aria-label":"File view",size:"small",onChange:T,sx:d,children:[m,h]}),S[22]=T,S[23]=m,S[24]=h,S[25]=p):p=S[25],S[26]!==V?(u=V&&(0,i.jsx)(A,{headerInfo:V}),S[26]=V,S[27]=u):u=S[27],S[28]!==p||S[29]!==u?(f=(0,i.jsxs)(w.A,{sx:c,children:[p,u]}),S[28]=p,S[29]=u,S[30]=f):f=S[30],S[31]!==V?(x=V&&(0,i.jsx)(R,{headerInfo:V}),S[31]=V,S[32]=x):x=S[32],S[33]!==f||S[34]!==x?(g=(0,i.jsxs)(L,{children:[f,x]}),S[33]=f,S[34]=x,S[35]=g):g=S[35],S[36]!==B||S[37]!==C?(b=C>1&&(0,i.jsx)(N.O.ContentExpander,{direction:"above",onExpand:B}),S[36]=B,S[37]=C,S[38]=b):b=S[38],S[39]!==_.contents||S[40]!==P||S[41]!==s?(y=(0,i.jsx)(N.O.Content,{children:"preview"===P?(0,i.jsx)(w.A,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:M}},children:(0,i.jsx)(F.To,{markdown:s,openLinksInCurrentTab:!1})}):(0,i.jsx)("code",{children:(0,i.jsx)(w.A,{as:"pre",sx:{overflowX:"auto"},children:_.contents})})}),S[39]=_.contents,S[40]=P,S[41]=s,S[42]=y):y=S[42],S[43]!==D||S[44]!==z||S[45]!==t?(j=D<t&&(0,i.jsx)(N.O.ContentExpander,{direction:"below",onExpand:z}),S[43]=D,S[44]=z,S[45]=t,S[46]=j):j=S[46],S[47]!==g||S[48]!==b||S[49]!==y||S[50]!==j?(v=(0,i.jsxs)(w.A,{sx:l,children:[g,b,y,j]}),S[47]=g,S[48]=b,S[49]=y,S[50]=j,S[51]=v):v=S[51],v}function M(e){return`${e.colors.accent.subtle}`}function H(e,t){return function(e){let t=0;for(let n of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function U(e,t){if(1===t)return 0;let n=-1;for(let r=2;r<=t;r++)if(-1===(n=e.indexOf(`
`,n+1)))return e.length;return n+1}try{z.displayName||(z.displayName="MarkdownReferencePreview")}catch{}try{W.displayName||(W.displayName="MarkdownReferencePreviewContent")}catch{}function G(e){let t,n,r,o,s,l,c,d,m,h,f,x,g,b,j,v,S,_,C,O=(0,a.c)(42),{reference:I,detailsLoading:D,detailsError:k,onDismiss:L}=e;O[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(V.A,{icon:y.GitCommitIcon,sx:{mr:2}}),O[0]=t):t=O[0],O[1]===Symbol.for("react.memo_cache_sentinel")?(n={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},O[1]=n):n=O[1],O[2]!==I.title?(r=(0,i.jsx)(w.A,{sx:n,children:I.title}),O[2]=I.title,O[3]=r):r=O[3],O[4]!==L||O[5]!==r?(o=(0,i.jsxs)(N.O.Header,{onDismiss:L,children:[t,r]}),O[4]=L,O[5]=r,O[6]=o):o=O[6],O[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},O[7]=s):s=O[7];let A=`${I.authorLogin}.png`;return O[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},O[8]=l):l=O[8],O[9]!==A?(c=(0,i.jsx)(p.r,{src:A,sx:l}),O[9]=A,O[10]=c):c=O[10],O[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},O[11]=d):d=O[11],O[12]!==I.authorLogin?(m=(0,i.jsx)(w.A,{sx:d,children:I.authorLogin}),O[12]=I.authorLogin,O[13]=m):m=O[13],O[14]!==m||O[15]!==c?(h=(0,i.jsxs)(w.A,{sx:s,children:[c,m]}),O[14]=m,O[15]=c,O[16]=h):h=O[16],O[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(w.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[17]=f):f=O[17],O[18]!==I.title?(x=(0,i.jsx)(N.O.Content,{children:(0,i.jsx)(F.To,{markdown:I.title})}),O[18]=I.title,O[19]=x):x=O[19],O[20]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)(w.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[20]=g):g=O[20],O[21]!==I.repository.name||O[22]!==I.repository.ownerLogin?(b=(0,u.Do2)({name:I.repository.name,ownerLogin:I.repository.ownerLogin}),O[21]=I.repository.name,O[22]=I.repository.ownerLogin,O[23]=b):b=O[23],O[24]!==I.repository.name||O[25]!==I.repository.ownerLogin||O[26]!==b?(j=(0,i.jsxs)(N.O.DetailLink,{href:b,icon:y.RepoIcon,children:[I.repository.ownerLogin,"/",I.repository.name]}),O[24]=I.repository.name,O[25]=I.repository.ownerLogin,O[26]=b,O[27]=j):j=O[27],O[28]!==I.url?(v=(0,i.jsx)(N.O.DetailLink,{href:I.url,icon:y.LinkExternalIcon,children:I.url}),O[28]=I.url,O[29]=v):v=O[29],O[30]!==j||O[31]!==v?(S=(0,i.jsxs)(N.O.Details,{children:[j,v]}),O[30]=j,O[31]=v,O[32]=S):S=O[32],O[33]!==k||O[34]!==D||O[35]!==h||O[36]!==x||O[37]!==S?(_=(0,i.jsxs)(N.O.Body,{detailsError:k,detailsLoading:D,children:[h,f,x,g,S]}),O[33]=k,O[34]=D,O[35]=h,O[36]=x,O[37]=S,O[38]=_):_=O[38],O[39]!==_||O[40]!==o?(C=(0,i.jsxs)(N.O.Frame,{children:[o,_]}),O[39]=_,O[40]=o,O[41]=C):C=O[41],C}try{G.displayName||(G.displayName="PullRequestReferencePreview")}catch{}function X(e){let t,n,r,o,s=(0,a.c)(20),{reference:l,details:c,detailsLoading:d,detailsError:m,onDismiss:h}=e,p=new Map,f=new Map;if(c?.kind==="suggestionSymbol")for(let e of c.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}else if(c?.kind==="codeNavSymbol"){for(let e of c.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}for(let e of c?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;f.has(t)||f.set(t,[]),f.get(t).push(e)}}let x=[...p.values()][0]?.[0]??[...f.values()][0]?.[0],j=p.size>0,w=f.size>0,S=[...p.values()].length,_=[...p.values()].reduce(Y,0),C=[...f.values()].length,O=[...f.values()].reduce(K,0),{contributors:I}=(0,g.u)(x?.repoOwner,x?.repoName,x?.commitOID,x?.path),[D]=(0,b.E)(x?.repoOwner,x?.repoName,x?.commitOID,x?.path),k=N.O;s[0]!==h||s[1]!==l.name?(t=(0,i.jsx)(N.O.Header,{onDismiss:h,children:l.name}),s[0]=h,s[1]=l.name,s[2]=t):t=s[2];let L=N.O,A=j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(N.O.SectionDivider,{children:[_," ",1===_?"definition":"definitions",S>1?` across ${S} files`:null]}),[...p.values()].map(J)]}),R=w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(N.O.SectionDivider,{children:[O," ",1===O?"reference":"references",C>1?` across ${C} files`:null]}),[...f.values()].map((e,t)=>(0,i.jsx)(N.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!j,children:(0,i.jsx)(N.O.Content,{children:e.map(Q)})},e[0].path))]}),P=N.O,E=x&&(0,i.jsxs)(N.O.DetailLink,{href:(0,u.Do2)({name:x.repoName,ownerLogin:x.repoOwner}),icon:y.RepoIcon,children:[x.repoOwner,"/",x.repoName]}),T=I&&x&&(0,i.jsxs)(N.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:x.repoOwner,repo:x.repoName,commitish:x.commitOID,filePath:x.path}),children:[I.totalCount," ",1===I.totalCount?"contributor":"contributors"]}),V=D&&x&&(0,i.jsxs)(N.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:x.repoOwner,repo:x.repoName,commitish:D?.oid}),children:[D?.author?.displayName," updated ",(0,i.jsx)(v.A,{datetime:D?.date})]}),F=x&&(0,i.jsxs)(N.O.DetailLink,{icon:y.LinkExternalIcon,href:(0,u.nD_)({owner:x.repoOwner,repo:x.repoName,commitish:x.commitOID,filePath:x.path}),children:[x.repoOwner,"/",x.repoName,"/",x.path]});return s[3]!==F||s[4]!==P.Details||s[5]!==E||s[6]!==T||s[7]!==V?(n=(0,i.jsxs)(P.Details,{children:[E,T,V,F]}),s[3]=F,s[4]=P.Details,s[5]=E,s[6]=T,s[7]=V,s[8]=n):n=s[8],s[9]!==m||s[10]!==d||s[11]!==n||s[12]!==L.Body||s[13]!==A||s[14]!==R?(r=(0,i.jsxs)(L.Body,{detailsError:m,detailsLoading:d,children:[A,R,n]}),s[9]=m,s[10]=d,s[11]=n,s[12]=L.Body,s[13]=A,s[14]=R,s[15]=r):r=s[15],s[16]!==k.Frame||s[17]!==r||s[18]!==t?(o=(0,i.jsxs)(k.Frame,{children:[t,r]}),s[16]=k.Frame,s[17]=r,s[18]=t,s[19]=o):o=s[19],o}function Q(e,t){return e.highlightedContents?(0,i.jsx)(D,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:Z(e)},t):null}function J(e,t){return(0,i.jsx)(N.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,i.jsx)(N.O.Content,{children:e.map(q)})},e[0].path)}function q(e,t){return e.highlightedContents?(0,i.jsx)(D,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:Z(e)},t):null}function K(e,t){return e+t.length}function Y(e,t){return e+t.length}function Z({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,n)=>e.start+n):[]}try{X.displayName||(X.displayName="SymbolReferencePreview")}catch{}let ee=e=>e?.start?e.end?`${e.start}-${e.end}`:`${e.start}`:"",et=e=>{let t=ee(e.selectedRange),n=e.url.split(window.location.host)[1];return{href:e.url+t,path:n+t,range:t}};function en(e){let t,n,r,o,s,l,c,d,m,h,f,x,j,S,_=(0,a.c)(48),{reference:C,details:O,detailsLoading:I,detailsError:D,onDismiss:k}=e,L=C.headFile??C.baseFile,{contributors:A}=(0,g.u)(L.repoOwner,L.repoName,L.commitOID,L.path),[R]=(0,b.E)(L.repoOwner,L.repoName,L.commitOID,L.path);_[0]!==C?(t=et(C),_[0]=C,_[1]=t):t=_[1];let{href:P,path:E,range:T}=t,V=O?.repoIsOrgOwned,F=`${L.repoOwner}.png`;return _[2]===Symbol.for("react.memo_cache_sentinel")?(n={mr:2,flexShrink:0},_[2]=n):n=_[2],_[3]!==V||_[4]!==F?(r=(0,i.jsx)(p.r,{square:V,src:F,sx:n}),_[3]=V,_[4]=F,_[5]=r):r=_[5],_[6]===Symbol.for("react.memo_cache_sentinel")?(o={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},_[6]=o):o=_[6],_[7]!==L.path||_[8]!==L.repoName||_[9]!==L.repoOwner||_[10]!==T?(s=(0,i.jsxs)(w.A,{sx:o,children:[L.repoOwner,"/",L.repoName,"/",L.path," ",T]}),_[7]=L.path,_[8]=L.repoName,_[9]=L.repoOwner,_[10]=T,_[11]=s):s=_[11],_[12]!==k||_[13]!==r||_[14]!==s?(l=(0,i.jsxs)(N.O.Header,{onDismiss:k,children:[r,s]}),_[12]=k,_[13]=r,_[14]=s,_[15]=l):l=_[15],_[16]!==L.repoName||_[17]!==L.repoOwner?(c=(0,u.Do2)({name:L.repoName,ownerLogin:L.repoOwner}),_[16]=L.repoName,_[17]=L.repoOwner,_[18]=c):c=_[18],_[19]!==L.repoName||_[20]!==L.repoOwner||_[21]!==c?(d=(0,i.jsxs)(N.O.DetailLink,{href:c,icon:y.RepoIcon,children:[L.repoOwner,"/",L.repoName]}),_[19]=L.repoName,_[20]=L.repoOwner,_[21]=c,_[22]=d):d=_[22],_[23]!==L.commitOID||_[24]!==L.path||_[25]!==L.repoName||_[26]!==L.repoOwner||_[27]!==A?(m=A&&(0,i.jsxs)(N.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:L.repoOwner,repo:L.repoName,commitish:L.commitOID,filePath:L.path}),children:[A.totalCount," ",1===A.totalCount?"contributor":"contributors"]}),_[23]=L.commitOID,_[24]=L.path,_[25]=L.repoName,_[26]=L.repoOwner,_[27]=A,_[28]=m):m=_[28],_[29]!==L.repoName||_[30]!==L.repoOwner||_[31]!==R?(h=R&&(0,i.jsxs)(N.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:L.repoOwner,repo:L.repoName,commitish:R?.oid}),children:[R?.author?.displayName," updated ",(0,i.jsx)(v.A,{datetime:R?.date})]}),_[29]=L.repoName,_[30]=L.repoOwner,_[31]=R,_[32]=h):h=_[32],_[33]!==P||_[34]!==E?(f=(0,i.jsx)(N.O.DetailLink,{icon:y.LinkExternalIcon,href:P,children:E}),_[33]=P,_[34]=E,_[35]=f):f=_[35],_[36]!==d||_[37]!==m||_[38]!==h||_[39]!==f?(x=(0,i.jsxs)(N.O.Details,{children:[d,m,h,f]}),_[36]=d,_[37]=m,_[38]=h,_[39]=f,_[40]=x):x=_[40],_[41]!==D||_[42]!==I||_[43]!==x?(j=(0,i.jsx)(N.O.Body,{detailsError:D,detailsLoading:I,children:x}),_[41]=D,_[42]=I,_[43]=x,_[44]=j):j=_[44],_[45]!==j||_[46]!==l?(S=(0,i.jsxs)(N.O.Frame,{children:[l,j]}),_[45]=j,_[46]=l,_[47]=S):S=_[47],S}try{en.displayName||(en.displayName="FileDiffReferencePreview")}catch{}var er=n(59706);function eo(e){let t,n=(0,a.c)(6),{dismissable:r}=e,{reference:o,details:s,detailsLoading:l,detailsError:c,dismissReference:d}=ea(),m=r?d:void 0;return n[0]!==s||n[1]!==c||n[2]!==l||n[3]!==o||n[4]!==m?(t=(0,i.jsx)(ei,{reference:o,details:s,detailsLoading:l,detailsError:c,onDismiss:m}),n[0]=s,n[1]=c,n[2]=l,n[3]=o,n[4]=m,n[5]=t):t=n[5],t}function ei(e){let t=(0,a.c)(46),{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l}=e;switch(n.type){case"symbol":{let e,a;return t[0]!==n?(e=(0,m.Vb)(n),t[0]=n,t[1]=e):e=t[1],t[2]!==s||t[3]!==o||t[4]!==l||t[5]!==n||t[6]!==e||t[7]!==r?(a=(0,i.jsx)(X,{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l},e),t[2]=s,t[3]=o,t[4]=l,t[5]=n,t[6]=e,t[7]=r,t[8]=a):a=t[8],a}case"file":case"snippet":{let e;return t[9]!==r||t[10]!==s||t[11]!==o||t[12]!==l||t[13]!==n?(e="Markdown"===n.languageName?(0,i.jsx)(z,{reference:n,details:r,detailsError:s,detailsLoading:o,onDismiss:l},(0,m.Vb)(n)):(0,i.jsx)(k,{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l},(0,m.Vb)(n)),t[9]=r,t[10]=s,t[11]=o,t[12]=l,t[13]=n,t[14]=e):e=t[14],e}case"file-diff":{let e,a;return t[15]!==n?(e=(0,m.Vb)(n),t[15]=n,t[16]=e):e=t[16],t[17]!==s||t[18]!==o||t[19]!==l||t[20]!==n||t[21]!==e||t[22]!==r?(a=(0,i.jsx)(en,{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l},e),t[17]=s,t[18]=o,t[19]=l,t[20]=n,t[21]=e,t[22]=r,t[23]=a):a=t[23],a}case"commit":{let e,r;return t[24]!==n?(e=(0,m.Vb)(n),t[24]=n,t[25]=e):e=t[25],t[26]!==s||t[27]!==o||t[28]!==l||t[29]!==n||t[30]!==e?(r=(0,i.jsx)(B,{reference:n,detailsLoading:o,detailsError:s,onDismiss:l},e),t[26]=s,t[27]=o,t[28]=l,t[29]=n,t[30]=e,t[31]=r):r=t[31],r}case"pull-request":{let e,r;return t[32]!==n?(e=(0,m.Vb)(n),t[32]=n,t[33]=e):e=t[33],t[34]!==s||t[35]!==o||t[36]!==l||t[37]!==n||t[38]!==e?(r=(0,i.jsx)(G,{reference:n,detailsLoading:o,detailsError:s,onDismiss:l},e),t[34]=s,t[35]=o,t[36]=l,t[37]=n,t[38]=e,t[39]=r):r=t[39],r}case"web-search":{let e,r;return t[40]!==n?(e=(0,m.Vb)(n),t[40]=n,t[41]=e):e=t[41],t[42]!==l||t[43]!==n||t[44]!==e?(r=(0,i.jsx)(er.I,{reference:n,onDismiss:l},e),t[42]=l,t[43]=n,t[44]=e,t[45]=r):r=t[45],r}default:return null}}function ea(){let e,t,n,r,o,i,s=(0,a.c)(19),l=(0,d.b)(),p=(0,c.Pk)().selectedReference,u=p?.type;s[0]!==p?(e=p?(0,m.Vb)(p):void 0,s[0]=p,s[1]=e):e=s[1],s[2]!==u||s[3]!==e?(t=["copilot-reference-preview","copilot","references",u,e],s[2]=u,s[3]=e,s[4]=t):t=s[4],s[5]!==l||s[6]!==p?(n=async()=>{if(!p)return null;let e=await l.service.hydrateReference(p);return e.ok?e.payload:null},s[5]=l,s[6]=p,s[7]=n):n=s[7],s[8]!==t||s[9]!==n?(r={queryKey:t,queryFn:n,staleTime:Number.MIN_VALUE},s[8]=t,s[9]=n,s[10]=r):r=s[10];let{isLoading:f,isError:x,data:g}=(0,h.I)(r);s[11]!==l?(o=()=>l.selectReference(null),s[11]=l,s[12]=o):o=s[12];let b=o,y=g??void 0;return s[13]!==b||s[14]!==x||s[15]!==f||s[16]!==p||s[17]!==y?(i={reference:p,dismissReference:b,details:y,detailsLoading:f,detailsError:x},s[13]=b,s[14]=x,s[15]=f,s[16]=p,s[17]=y,s[18]=i):i=s[18],i}try{eo.displayName||(eo.displayName="CopilotReferencePreview")}catch{}try{ei.displayName||(ei.displayName="CopilotReferencePreviewImpl")}catch{}function es(){var e;let t,n,r,o,c,d=(0,a.c)(13),{dismissReference:m,reference:h}=ea(),{screenSize:p}=(0,l.lm)(),u=p<l.Gy.large;d[0]!==h?(e=h,t=e?.type==="web-search"?`Bing search results for "${e.query}"`:"Reference",d[0]=h,d[1]=t):t=d[1];let f=t,x=!!h;return d[2]!==u?(n={display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...u?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},d[2]=u,d[3]=n):n=d[3],d[4]!==f?(r=(0,i.jsx)(s.A.Header,{children:f}),d[4]=f,d[5]=r):r=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)(eo,{}),d[6]=o):o=d[6],d[7]!==m||d[8]!==x||d[9]!==n||d[10]!==r||d[11]!==f?(c=(0,i.jsxs)(s.A,{"aria-label":f,isOpen:x,onDismiss:m,sx:n,children:[r,o]}),d[7]=m,d[8]=x,d[9]=n,d[10]=r,d[11]=f,d[12]=c):c=d[12],c}try{es.displayName||(es.displayName="CopilotReferencePreviewDialog")}catch{}var el=n(66871),ec=n(38007),ed=n(37573),em=n(96615),eh=n(60039),ep=n(98939),eu=n(55847),ef=n(94977),ex=n(18312),eg=n(93934),eb=n(27851),ey=n(42080),ej=n(26807),ew=n(22870),ev=n(34164),eS=n(91819),e_=n(33900),eC=n(74244),eO=n(44435);let eN={copilotChatPanel:"ChatPanel-module__copilotChatPanel--YfhVH"};var eI=n(41039);let eD=()=>{let e,t,n,r,o=(0,a.c)(10),s=(0,c.Pk)(),l=(0,d.b)();o[0]!==s?(e=(0,eO.W)(s),o[0]=s,o[1]=e):e=o[1];let m=e;return o[2]!==l||o[3]!==s.chatVisibleSettingPath||o[4]!==s.currentView||o[5]!==m?(t=()=>{l.openChat(m,s.currentView,"floating-button-v2",s.chatVisibleSettingPath)},o[2]=l,o[3]=s.chatVisibleSettingPath,o[4]=s.currentView,o[5]=m,o[6]=t):t=o[6],o[7]===Symbol.for("react.memo_cache_sentinel")?(n={"--floating-button-size":"2.5rem",position:"fixed",bottom:3,right:3,zIndex:9,color:"fg.default !important",bg:"var(--bgColor-default, var(--color-canvas-default))",borderRadius:"var(--floating-button-size)",border:"none",boxShadow:"var(--shadow-floating-small)",height:"var(--floating-button-size)",width:"var(--floating-button-size)","&:focus, &:active":{boxShadow:"var(--shadow-floating-small, var(--shadow-small))"}},o[7]=n):n=o[7],o[8]!==t?(r=(0,i.jsx)(eI.v,{tabIndex:-1,id:"copilot-floating-button",icon:y.CopilotIcon,label:"Open Copilot chat","aria-controls":eS.wJ,tooltipDirection:"w",onClick:t,sx:n,"data-hotkey":"Shift+Z"}),o[8]=t,o[9]=r):r=o[9],r};try{eD.displayName||(eD.displayName="FloatingButton")}catch{}var ek=n(70066);let eL=e=>{let t,n,r,o,s,l,h,p=(0,a.c)(27),{children:u,initialFocusRef:f,staffDialogRef:x,handleClose:g,panelWidth:b,panelHeight:y,startResize:j,onResizerKeyDown:v}=e,S=(0,c.Pk)(),{chatIsOpen:_,chatIsVisible:C,currentTopic:N}=S,I=S.entryPointId??eS.fv,D=(0,O.useRef)(null),k=(0,O.useRef)(null);p[0]!==I?(t=()=>{k.current=document.getElementById(I)},n=[I],p[0]=I,p[1]=t,p[2]=n):(t=p[1],n=p[2]),(0,O.useEffect)(t,n),p[3]!==g?(r=()=>{D.current&&D.current.contains(document.activeElement)&&g(!0)},p[3]=g,p[4]=r):r=p[4];let L=r,A=(0,d.b)();p[5]!==S?(o=(0,eO.W)(S),p[5]=S,p[6]=o):o=p[6];let R=o,P=(0,ej.Z)();p[7]!==N||p[8]!==P||p[9]!==S.currentReferences||p[10]!==R?(s=()=>{(0,ec.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),eC.J.setCurrentReferences(R?.id??null,S.currentReferences),R?P(`${m.Jz}/c/${R.id}`):N&&(0,m.Z6)(N)?P(`${m.Jz}/r/${N.ownerLogin}/${N.name}`):P(m.Jz)},p[7]=N,p[8]=P,p[9]=S.currentReferences,p[10]=R,p[11]=s):s=p[11];let E=s;return p[12]!==_||p[13]!==C||p[14]!==u||p[15]!==f||p[16]!==A||p[17]!==E||p[18]!==L||p[19]!==v||p[20]!==y||p[21]!==b||p[22]!==x||p[23]!==j?(l=_?(0,i.jsxs)(ew.Ay,{id:eS.wJ,className:(0,ev.$)(eN.copilotChatPanel),ref:D,portalContainerName:(0,eb.G7)("primer_react_unified_portal_root")?void 0:ek.Gj,onEscape:L,onClickOutside:eA,ignoreClickRefs:[x],initialFocusRef:f,returnFocusRef:k,sx:{maxWidth:"calc(100vw - 2rem)",height:_?`${y}px`:"48px",maxHeight:"calc(100vh - 1rem - 60px)",minHeight:_?`${e_.cx}px`:void 0,width:_?`${b}px`:"400px",minWidth:`${e_.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":eS.Qs,children:[(0,i.jsx)(ey.ak,{commands:{"copilot-chat:close-assistive":()=>A.closeChat()}}),(0,i.jsx)(ey.tL,{commands:{"copilot-chat:continue-in-immersive":E},children:(0,i.jsx)("section",{id:eS.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,i.jsxs)(w.A,{sx:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},"data-testid":eS.Qs,children:[(0,i.jsx)(w.A,{id:"vertical-resize-click-target",sx:{position:"absolute",inset:0,height:"0.5rem",width:"100%",cursor:_?"ns-resize":void 0,zIndex:2},onMouseDown:e=>j(e,!1,!0)}),(0,i.jsx)(w.A,{sx:{position:"absolute",inset:0,height:"100%",width:"8px",cursor:_?"ew-resize":void 0,zIndex:2},onMouseDown:e=>j(e,!0,!1)}),(0,i.jsx)(w.A,{sx:{position:"absolute",inset:0,height:"0.5rem",width:"0.5rem",cursor:_?"nwse-resize":"undefined",zIndex:2},"aria-label":"Chat panel resizer","aria-valuetext":`${b}, ${y}`,"aria-valuenow":b,role:"separator",onMouseDown:e=>j(e,!0,!0),tabIndex:0,onKeyDown:v}),(0,i.jsx)(w.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,maxHeight:"100%"},children:u})]})})})]}):C&&!(0,eb.G7)("copilot_no_floating_button")?(0,i.jsx)(eD,{}):null,p[12]=_,p[13]=C,p[14]=u,p[15]=f,p[16]=A,p[17]=E,p[18]=L,p[19]=v,p[20]=y,p[21]=b,p[22]=x,p[23]=j,p[24]=l):l=p[24],p[25]!==l?(h=(0,i.jsx)(i.Fragment,{children:l}),p[25]=l,p[26]=h):h=p[26],h};try{eL.displayName||(eL.displayName="ChatPanel")}catch{}function eA(){}var eR=n(34700),eP=n(7479),eE=n(84217),eT=n(47139),eV=n(10569),eF=n(15385),eB=n(99377),e$=n(31971),ez=n(33484),eW=n(75320),eM=n(73451),eH=n(34614),eU=n(9591),eG=n(16255),eX=n(2724),eQ=n(39226);let eJ=e=>{let t,n,r,o,s,l,c,d,m,h,p,u,f,x,g,b=(0,a.c)(31),{onDismiss:y,experimentsDialogRef:j}=e,[v,S]=(0,O.useState)(eq),[_,C]=(0,O.useState)(void 0),N=(0,O.useRef)("\u200B");b[0]!==v||b[1]!==y?(t=()=>{let e=[];for(let t of v.split(","))if(""!==t.trim()){if(2!==t.split("=").length){C(`Invalid experiment key=value pair${N.current}`),N.current=N.current+"\u200B";return}C(""),e.push(t)}(0,eQ.R)(e),y()},b[0]=v,b[1]=y,b[2]=t):t=b[2];let I=t;return b[3]===Symbol.for("react.memo_cache_sentinel")?(n={p:3},b[3]=n):n=b[3],b[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(eM.A.Label,{children:"Experiments"}),b[4]=r):r=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)("code",{children:"key=value"}),b[5]=o):o=b[5],b[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)(eM.A.Caption,{children:(0,i.jsxs)("span",{children:["List experiments as comma separated ",o," pairs. To see available experiments,"," ",(0,i.jsx)(eH.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),b[6]=s):s=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(l={width:"100%",my:2},b[7]=l):l=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(c=e=>S(e.target.value),b[8]=c):c=b[8],b[9]!==I?(d=e=>{"Enter"===e.key&&I()},b[9]=I,b[10]=d):d=b[10],b[11]!==v||b[12]!==d?(m=(0,i.jsx)(eU.A,{sx:l,"aria-label":"Experiments",name:"experiments",value:v,onChange:c,onKeyDown:d}),b[11]=v,b[12]=d,b[13]=m):m=b[13],b[14]!==_?(h=_&&(0,i.jsx)(eM.A.Validation,{variant:"error",children:_}),b[14]=_,b[15]=h):h=b[15],b[16]!==h||b[17]!==m?(p=(0,i.jsx)(eX.l.Body,{children:(0,i.jsx)(w.A,{sx:n,children:(0,i.jsxs)(eM.A,{children:[r,s,m,h]})})}),b[16]=h,b[17]=m,b[18]=p):p=b[18],b[19]!==y?(u={type:"button",onClick:y,content:"Cancel"},b[19]=y,b[20]=u):u=b[20],b[21]!==I?(f={type:"button",onClick:I,content:"Save",buttonType:"primary"},b[21]=I,b[22]=f):f=b[22],b[23]!==u||b[24]!==f?(x=(0,i.jsx)(eX.l.Footer,{children:(0,i.jsx)(eX.l.Buttons,{buttons:[u,f]})}),b[23]=u,b[24]=f,b[25]=x):x=b[25],b[26]!==j||b[27]!==y||b[28]!==p||b[29]!==x?(g=(0,i.jsx)(eG.Z,{children:(0,i.jsxs)(eX.l,{ref:j,onClose:y,title:"Experiments",width:"xlarge",children:[p,x]})}),b[26]=j,b[27]=y,b[28]=p,b[29]=x,b[30]=g):g=b[30],g};try{eJ.displayName||(eJ.displayName="ExperimentsDialog")}catch{}function eq(){return(0,eQ.f)().join(",")}var eK=n(74302);let eY=e=>{let t,n,r,o=(0,a.c)(11),{dialogType:s,onDismiss:l,staffDialogRef:c}=e;return o[0]!==s||o[1]!==l||o[2]!==c?(t=s===eB.hs.Experiments&&(0,i.jsx)(eJ,{experimentsDialogRef:c,onDismiss:l}),o[0]=s,o[1]=l,o[2]=c,o[3]=t):t=o[3],o[4]!==s||o[5]!==l||o[6]!==c?(n=s===eB.hs.Prompt&&(0,i.jsx)(eK.X,{promptDialogRef:c,onDismiss:l}),o[4]=s,o[5]=l,o[6]=c,o[7]=n):n=o[7],o[8]!==t||o[9]!==n?(r=(0,i.jsxs)(i.Fragment,{children:[t,n]}),o[8]=t,o[9]=n,o[10]=r):r=o[10],r};try{eY.displayName||(eY.displayName="StaffDialogs")}catch{}let eZ=e=>{let t,n,r,o,s,l,m,h,p,u,f,x,g,b,j,v,S=(0,a.c)(56),_=(0,c.Pk)(),C=(0,d.b)(),[N,I]=(0,O.useState)(!1);S[0]!==_?(t=(0,eO.W)(_),S[0]=_,S[1]=t):t=S[1];let D=t,{showTopicPicker:k,messages:L,streamingMessage:A}=_,R=D?.name??_.restoredThreadTitle;S[2]!==C||S[3]!==D?(n=async()=>D&&C.deleteThread(D),S[2]=C,S[3]=D,S[4]=n):n=S[4];let P=n;S[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,eb.G7)("lifecycle_label_name_updates"),S[5]=r):r=S[5];let E=r;S[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,eb.G7)("copilot_no_floating_button"),S[6]=o):o=S[6];let T=o,V=(0,O.useRef)(null),F="immersive"===_.mode?1:3,B=k?"none":"1px solid";return S[7]!==F||S[8]!==B?(s={display:"flex",gap:2,p:2,pl:F,borderBottom:B,borderColor:"border.default",justifyContent:"space-between",alignItems:"center"},S[7]=F,S[8]=B,S[9]=s):s=S[9],S[10]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flex:1,minWidth:0},S[10]=l):l=S[10],S[11]!==L||S[12]!==e.isImmersive||S[13]!==e.isResponding||S[14]!==k||S[15]!==_.chatIsOpen||S[16]!==_.currentView||S[17]!==R?(m="thread"===_.currentView?!k&&!e.isImmersive&&0===L.length&&_.chatIsOpen&&(0,i.jsx)(eE.A,{as:"h2",sx:{fontSize:1,display:"flex",alignItems:"center",flexGrow:1,gap:2,minWidth:0,cursor:"default"},children:"thread"===_.currentView?(0,i.jsx)(i.Fragment,{children:R?(0,i.jsx)("span",{className:"Truncate",children:(0,i.jsx)("span",{className:"Truncate-text",title:R,children:R})}):e.isResponding&&!_.chatIsOpen?(0,i.jsx)(i.Fragment,{children:"Responding\u2026"}):_.chatIsOpen?!k&&(0,i.jsx)(i.Fragment,{children:"New conversation"}):(0,i.jsx)(i.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,i.jsx)(e0,{}),S[11]=L,S[12]=e.isImmersive,S[13]=e.isResponding,S[14]=k,S[15]=_.chatIsOpen,S[16]=_.currentView,S[17]=R,S[18]=m):m=S[18],S[19]!==m?(h=(0,i.jsx)(w.A,{sx:l,children:m}),S[19]=m,S[20]=h):h=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(p={display:"flex",alignItems:"center"},S[21]=p):p=S[21],S[22]!==P||S[23]!==C||S[24]!==L||S[25]!==e.setShowStaffDialog||S[26]!==_.chatIsOpen||S[27]!==_.currentView||S[28]!==_.renderBetaLabel||S[29]!==D?(u=_.chatIsOpen&&(0,i.jsxs)(i.Fragment,{children:[_.renderBetaLabel&&(E?(0,i.jsx)(eR.X,{className:"mr-2"}):(0,i.jsx)(eT.A,{variant:"success",sx:{mr:2},children:"Beta"})),"thread"===_.currentView?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eI.v,{hidden:0===L.length,variant:"invisible",icon:y.PlusIcon,label:"New conversation",tooltipDirection:"s",onClick:async()=>{await C.selectThread(null)},sx:{color:"fg.muted"}}),(0,i.jsx)(e1,{anchorRef:V,handleDelete:P,thread:D,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:I})]}):(0,i.jsx)(eI.v,{variant:"invisible",icon:y.PlusIcon,label:"New conversation",tooltipDirection:"w",onClick:async()=>{await C.selectThread(null)},sx:{color:"fg.muted"}})]}),S[22]=P,S[23]=C,S[24]=L,S[25]=e.setShowStaffDialog,S[26]=_.chatIsOpen,S[27]=_.currentView,S[28]=_.renderBetaLabel,S[29]=D,S[30]=u):u=S[30],S[31]!==C||S[32]!==e.isImmersive||S[33]!==_.chatIsOpen||S[34]!==_.chatVisibleSettingPath||S[35]!==_.currentView||S[36]!==A||S[37]!==D?(f=!e.isImmersive&&(0,i.jsxs)(i.Fragment,{children:[_.chatIsOpen&&(0,i.jsx)(w.A,{sx:{mx:2,height:"20px",width:"1px",bg:"border.muted"}}),(0,i.jsx)(ey.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:y.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!A,sx:{color:"fg.muted"},tooltipDirection:"sw"}),T?(0,i.jsx)(ey.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:y.XIcon,tooltipDirection:"sw",sx:{color:"fg.muted"}}):(0,i.jsx)(eI.v,{variant:"invisible",icon:_.chatIsOpen?y.ChevronDownIcon:y.ChevronUpIcon,label:_.chatIsOpen?"Collapse":"Expand",tooltipDirection:_.chatIsOpen?"sw":"w",onClick:_.chatIsOpen?()=>C.closeChat():()=>C.openChat(D,_.currentView,"header",_.chatVisibleSettingPath),sx:{color:"fg.muted"},"data-hotkey":"Shift+Z"})]}),S[31]=C,S[32]=e.isImmersive,S[33]=_.chatIsOpen,S[34]=_.chatVisibleSettingPath,S[35]=_.currentView,S[36]=A,S[37]=D,S[38]=f):f=S[38],S[39]!==u||S[40]!==f?(x=(0,i.jsxs)(w.A,{sx:p,children:[u,f]}),S[39]=u,S[40]=f,S[41]=x):x=S[41],S[42]!==e?(g=()=>e.setShowStaffDialog(eB.hs.None),S[42]=e,S[43]=g):g=S[43],S[44]!==e.showStaffDialog||S[45]!==e.staffDialogRef||S[46]!==g?(b=(0,i.jsx)(eY,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:g}),S[44]=e.showStaffDialog,S[45]=e.staffDialogRef,S[46]=g,S[47]=b):b=S[47],S[48]!==N?(j=N&&(0,i.jsx)(eW.Y,{returnFocusRef:V,onDismiss:()=>I(!1)}),S[48]=N,S[49]=j):j=S[49],S[50]!==x||S[51]!==b||S[52]!==j||S[53]!==s||S[54]!==h?(v=(0,i.jsxs)(w.A,{sx:s,children:[h,x,b,j]}),S[50]=x,S[51]=b,S[52]=j,S[53]=s,S[54]=h,S[55]=v):v=S[55],v},e0=()=>{let e,t,n,r=(0,a.c)(7),{mode:o}=(0,c.Pk)(),s=(0,d.b)();r[0]!==s?(e=()=>s.viewCurrentThread(),r[0]=s,r[1]=e):e=r[1];let l="assistive"===o?"-8px":void 0;return r[2]!==l?(t={color:"fg.muted",marginLeft:l},r[2]=l,r[3]=t):t=r[3],r[4]!==e||r[5]!==t?(n=(0,i.jsx)(eu.Q,{leadingVisual:y.ArrowLeftIcon,variant:"invisible",onClick:e,sx:t,children:"Back"}),r[4]=e,r[5]=t,r[6]=n):n=r[6],n},e1=e=>{let t,n,r,o,s,l,h,p,u,f,x,g,b,j,w,v,S,_,C,N,I,D,k,L,A,R,P,E=(0,a.c)(57),[T,V]=(0,O.useState)(!1),{chatVisibleSettingPath:F,mode:B,repoCustomInstructionsEnabled:$,currentReferences:z}=(0,c.Pk)(),W=(0,d.b)(),M=(0,O.useRef)(null);E[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eb.G7)("copilot_no_floating_button"),E[0]=t):t=E[0];let H=t,U=e$.W.staffPromptDialog;E[1]!==z?(n=(0,m.NJ)(z),E[1]=z,E[2]=n):n=E[2];let G=n;E[3]!==W?(r=()=>{W.fetchThreads(),W.viewAllThreads(),(0,ec.BI)("copilot.view-conversations-clicked")},E[3]=W,E[4]=r):r=E[4];let X=r;E[5]!==e?(o=()=>{e.handleDelete(),V(!1)},E[5]=e,E[6]=o):o=E[6];let Q=o;E[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,eP.X)(),E[7]=l):l=E[7],s=l;let J=!e.thread;E[8]===Symbol.for("react.memo_cache_sentinel")?(h=()=>V(e2),E[8]=h):h=E[8],E[9]===Symbol.for("react.memo_cache_sentinel")?(p={color:"fg.muted"},E[9]=p):p=E[9],E[10]!==T?(u=(0,i.jsx)(eV.W.Anchor,{children:(0,i.jsx)(eI.v,{icon:y.KebabHorizontalIcon,variant:"invisible",label:"Conversation options",tooltipDirection:"s",hideTooltip:T,sx:p})}),E[10]=T,E[11]=u):u=E[11],E[12]!==G.length||E[13]!==W||E[14]!==$?(f=G.length>0&&(0,i.jsxs)(eF.l.Item,{onSelect:()=>{W.toggleRepoCustomInstructions(!$)},children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.NoteIcon,{})}),$?"Disable custom instructions":"Enable custom instructions"]}),E[12]=G.length,E[13]=W,E[14]=$,E[15]=f):f=E[15];let q=J?"default":"danger";return E[16]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.TrashIcon,{})}),E[16]=x):x=E[16],E[17]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"}),E[17]=g):g=E[17],E[18]!==J||E[19]!==Q||E[20]!==q?(b=(0,i.jsxs)(eF.l.Item,{variant:q,onSelect:Q,disabled:J,"aria-describedby":"delete-conversation-description",children:[x,"Delete conversation",g]}),E[18]=J,E[19]=Q,E[20]=q,E[21]=b):b=E[21],E[22]===Symbol.for("react.memo_cache_sentinel")?(j=(0,i.jsx)(eF.l.Divider,{}),E[22]=j):j=E[22],E[23]!==e?(w=()=>e.setShowPersonalInstructionsDialog(!0),E[23]=e,E[24]=w):w=E[24],E[25]===Symbol.for("react.memo_cache_sentinel")?(v=(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.ToolsIcon,{})}),E[25]=v):v=E[25],E[26]!==w?(S=(0,i.jsxs)(eF.l.Item,{onSelect:w,children:[v,"Personal instructions"]}),E[26]=w,E[27]=S):S=E[27],E[28]!==X||E[29]!==B?(_="assistive"===B&&(0,i.jsxs)(eF.l.Item,{onSelect:X,children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.HistoryIcon,{})}),"View all conversations"]}),E[28]=X,E[29]=B,E[30]=_):_=E[30],E[31]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{M.current?.openDialog(),(0,ec.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},E[31]=C):C=E[31],E[32]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsxs)(eF.l.Item,{onSelect:C,children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.CommentDiscussionIcon,{})}),"Give feedback"]}),E[32]=N):N=E[32],E[33]!==F||E[34]!==W||E[35]!==B?(I="assistive"===B&&!H&&(0,i.jsxs)(eF.l.Item,{onSelect:()=>{W.hideChat(F)},children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.EyeClosedIcon,{})}),"Hide Copilot chat"]}),E[33]=F,E[34]=W,E[35]=B,E[36]=I):I=E[36],E[37]!==e?(D=s&&(0,i.jsxs)(eF.l.Item,{onSelect:()=>e.setShowStaffDialog(eB.hs.Experiments),children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.BeakerIcon,{})}),"Configure experiments",(0,i.jsx)(eF.l.TrailingVisual,{children:(0,i.jsx)(eT.A,{variant:"attention",children:"Staff"})})]}),E[37]=e,E[38]=D):D=E[38],E[39]!==e?(k=s&&U&&(0,i.jsxs)(eF.l.Item,{onSelect:()=>e.setShowStaffDialog(eB.hs.Prompt),children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.BeakerIcon,{})}),"Adjust prompts",(0,i.jsx)(eF.l.TrailingVisual,{children:(0,i.jsx)(eT.A,{variant:"attention",children:"Staff"})})]}),E[39]=e,E[40]=k):k=E[40],E[41]!==b||E[42]!==S||E[43]!==_||E[44]!==I||E[45]!==D||E[46]!==k||E[47]!==f?(L=(0,i.jsx)(ek.UJ,{children:(0,i.jsxs)(eF.l,{children:[f,b,j,S,_,N,I,D,k]})}),E[41]=b,E[42]=S,E[43]=_,E[44]=I,E[45]=D,E[46]=k,E[47]=f,E[48]=L):L=E[48],E[49]!==T||E[50]!==e.anchorRef||E[51]!==L||E[52]!==u?(A=(0,i.jsxs)(eV.W,{open:T,onOpenChange:h,anchorRef:e.anchorRef,children:[u,L]}),E[49]=T,E[50]=e.anchorRef,E[51]=L,E[52]=u,E[53]=A):A=E[53],E[54]===Symbol.for("react.memo_cache_sentinel")?(R=(0,i.jsx)(ez.l,{ref:M,mode:"assistive"}),E[54]=R):R=E[54],E[55]!==A?(P=(0,i.jsxs)(i.Fragment,{children:[A,R]}),E[55]=A,E[56]=P):P=E[56],P};try{eZ.displayName||(eZ.displayName="Header")}catch{}try{e0.displayName||(e0.displayName="ReturnToCurrentThreadButton")}catch{}try{e1.displayName||(e1.displayName="ThreadOptionButton")}catch{}function e2(e){return!e}var e3=n(31637),e4=n(50539),e5=n(8579),e6=n(35642),e7=n(96339),e8=n(66889),e9=n(99357),te=n(83880),tt=n(40136),tn=n(40509);let tr={dialog:"CommandWindow-module__dialog--nK81t",copilotAvatar:"CommandWindow-module__copilotAvatar--ye1FK",commandListItemSelected:"CommandWindow-module__commandListItemSelected--EuUNl",chatMessageWrapper:"CommandWindow-module__chatMessageWrapper--KDhKM"};function to(e){let t,n,r,o=(0,a.c)(10),{headingText:s,commands:l,onSelect:c}=e;if(o[0]!==s?(t=(0,i.jsx)(eF.l.GroupHeading,{as:"h4",className:"ml-n2",children:s}),o[0]=s,o[1]=t):t=o[1],o[2]!==l||o[3]!==c){let e;o[5]!==c?(e=e=>{let t=y[e.iconName];return(0,i.jsxs)(eF.l.Item,{className:(0,ev.$)("p-2",e.selected?tr.commandListItemSelected:""),onSelect:()=>c(e),children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(t,{})}),e.name,e.selected&&(0,i.jsx)(eF.l.TrailingVisual,{children:"Ask Copilot"})]},e.name)},o[5]=c,o[6]=e):e=o[6],n=l.map(e),o[2]=l,o[3]=c,o[4]=n}else n=o[4];return o[7]!==t||o[8]!==n?(r=(0,i.jsx)(eF.l,{variant:"full",className:"my-2",children:(0,i.jsxs)(eF.l.Group,{children:[t,n]})}),o[7]=t,o[8]=n,o[9]=r):r=o[9],r}try{to.displayName||(to.displayName="CommandList")}catch{}function ti(e){let t,n,r,o=(0,a.c)(7),{context:s}=e;if(!s)return;o[0]!==s?(t=function(e){if("pull-request"===e.type)return{name:`${e.number}`,icon:y.GitPullRequestIcon}}(s),o[0]=s,o[1]=t):t=o[1];let l=t;if(!l)return;let{icon:c,name:d}=l;return o[2]!==c?(n=c&&(0,i.jsx)(c,{className:"mr-1 fgColor-open",size:"small"}),o[2]=c,o[3]=n):n=o[3],o[4]!==d||o[5]!==n?(r=(0,i.jsxs)("div",{className:"fgColor-muted bgColor-muted px-2 py-1 rounded-2 f6",children:[n,d]}),o[4]=d,o[5]=n,o[6]=r):r=o[6],r}try{ti.displayName||(ti.displayName="ContextLabel")}catch{}var ta=n(53655);function ts(e){let t,n,r,o,s,l=(0,a.c)(10),{topic:c}=e;if(!c)return;if(l[0]!==c){let e={type:"repository",...c};t=(0,ta.a_)(e,!1),n=(0,m.z$)(e),l[0]=c,l[1]=t,l[2]=n}else t=l[1],n=l[2];let d=n;return l[3]!==t?(r=t&&(0,i.jsx)(t,{className:"mr-1",size:"small"}),l[3]=t,l[4]=r):r=l[4],l[5]!==d?(o=(0,i.jsx)("span",{className:"flex-1",children:d}),l[5]=d,l[6]=o):o=l[6],l[7]!==r||l[8]!==o?(s=(0,i.jsxs)(i.Fragment,{children:[r,o]}),l[7]=r,l[8]=o,l[9]=s):s=l[9],s}try{ts.displayName||(ts.displayName="TopicLabel")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}function tl(e){return"pull-request"===e.type}var tc=n(3032);let td={Initial:"initial",Complete:"complete"};function tm(){let e,t,n,r,o,s,l,h,p,u,f,x,g,b,j,v,S,_,N=(0,a.c)(73),I=(0,c.Pk)(),{entryPointId:D,chatIsOpen:k,currentRepository:L}=I,A=(0,d.b)();N[0]!==I?(e=(0,eO.W)(I),N[0]=I,N[1]=e):e=N[1];let R=e,{reloadQuota:P}=(0,e3.xR)(),E=(0,ej.Z)(),[T,V]=(0,O.useState)(td.Initial),F=(0,O.useRef)(null),[B,$]=(0,O.useState)(""),z=function(){let e,t=(0,a.c)(5),{context:n,currentRepository:r}=(0,c.Pk)();e:{let o;if(Array.isArray(n)){let r;t[0]!==n?(r=n.find(tl),t[0]=n,t[1]=r):r=t[1];let o=r;if(o){e=o;break e}}if(r){let n;t[2]!==r?(n={type:"repository",...r},t[2]=r,t[3]=n):n=t[3],e=n;break e}t[4]===Symbol.for("react.memo_cache_sentinel")?(o={type:"global"},t[4]=o):o=t[4],e=o}return e}(),W=function(e,t,n){let r=(0,O.useMemo)(()=>void 0===e?[]:(tc.L[e]||[]).filter(e=>void 0===t||!("persona"in e)||void 0===e.persona||e.persona===t),[e,t]);return(0,O.useMemo)(()=>{let e=r.filter(e=>void 0===n||e.name.toLowerCase().startsWith(n.toLowerCase()));return 0===e.length&&n&&e.push({type:"custom",context:"global",iconName:"PaperAirplaneIcon",name:n,prompt:n}),e},[r,n])}(z?.type,z&&"persona"in z?z.persona:void 0,B),{selectedIndex:M,selectPrevious:H,selectNext:U}=function(e){let t,n,r,o,i,s=(0,a.c)(11),[l,c]=(0,O.useState)(0);s[0]!==e?(t=()=>{c(t=>Math.min(t,e))},n=[e],s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,O.useEffect)(t,n),s[3]!==e?(r=()=>{c(t=>void 0===t?e:t>0?t-1:e)},s[3]=e,s[4]=r):r=s[4];let d=r;s[5]!==e?(o=()=>{c(t=>void 0===t?0:t<e?t+1:0)},s[5]=e,s[6]=o):o=s[6];let m=o;return s[7]!==m||s[8]!==d||s[9]!==l?(i={selectedIndex:l,selectPrevious:d,selectNext:m},s[7]=m,s[8]=d,s[9]=l,s[10]=i):i=s[10],i}(W.length-1);N[2]!==I.messages?(n=I.messages.findLast(tp),N[2]=I.messages,N[3]=n):n=N[3],t=n,N[4]!==D||N[5]!==A?(r=e=>{if(V(td.Initial),$(""),A.closeChat(),"escape"===e){let e=D??eS.fv,t=document.getElementById(e),n=window.scrollX,r=window.scrollY;setTimeout(()=>{t?.focus(),window.scrollTo(n,r)},0)}},N[4]=D,N[5]=A,N[6]=r):r=N[6];let G=r;N[7]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{$(e.currentTarget.value),V(td.Initial)},N[7]=o):o=N[7];let X=o;N[8]!==A||N[9]!==P||N[10]!==I.context||N[11]!==I.currentReferences||N[12]!==I.currentRepository||N[13]!==I.customInstructions||N[14]!==R?(s=async e=>{$(e.name);let t=e.prompt;""!==t.trim()&&(P("command_message_send"),R&&await A.clearThread(R),V(td.Complete),await A.sendChatMessage({content:t,thread:R,references:I.currentReferences,topic:I.currentRepository,context:I.context,customInstructions:I.customInstructions,intent:e.intent||eB.wh.conversation,modeOverride:"custom"===e.type?"assistive":"task-oriented-assistive"}),setTimeout(()=>{F?.current?.select?.(),window.scrollTo(scrollX,scrollY)},0))},N[8]=A,N[9]=P,N[10]=I.context,N[11]=I.currentReferences,N[12]=I.currentRepository,N[13]=I.customInstructions,N[14]=R,N[15]=s):s=N[15];let Q=s;N[16]!==W||N[17]!==Q||N[18]!==M?(l=async()=>{let e=W[M];e&&await Q(e)},N[16]=W,N[17]=Q,N[18]=M,N[19]=l):l=N[19];let J=l;N[20]!==A?(h=()=>A.stopStreaming(),N[20]=A,N[21]=h):h=N[21];let q=h;N[22]!==L||N[23]!==E||N[24]!==R?(p=()=>{R?E(`${m.Jz}/c/${R.id}`):L?E(`${m.Jz}/r/${L.ownerLogin}/${L.name}`):E(m.Jz)},N[22]=L,N[23]=E,N[24]=R,N[25]=p):p=N[25];let K=p;N[26]!==W||N[27]!==z?.type||N[28]!==Q||N[29]!==B||N[30]!==M||N[31]!==T?(u=()=>{if(T!==td.Initial)return;let e=(0,e8.Z)(z?.type?.replaceAll("-"," ")??"Select an action");return B&&(e="Results found"),W.every(th)&&(e="No results found"),(0,i.jsx)(to,{headingText:e,commands:W.map((e,t)=>({...e,selected:t===M})),onSelect:async e=>await Q(e)})},N[26]=W,N[27]=z?.type,N[28]=Q,N[29]=B,N[30]=M,N[31]=T,N[32]=u):u=N[32];let Y=u;N[33]!==z||N[34]!==q||N[35]!==J||N[36]!==K||N[37]!==B||N[38]!==U||N[39]!==H||N[40]!==I.isWaitingOnCopilot?(f=()=>{let e=I.isWaitingOnCopilot;return(0,i.jsx)("div",{className:"d-flex flex-column",children:(0,i.jsx)(ey.tL,{commands:{"copilot-chat:task-oriented-select-previous":H,"copilot-chat:task-oriented-select-next":U,"copilot-chat:send-message":()=>void J(),"github:cancel":()=>void q(),"copilot-chat:continue-in-immersive":K},children:(0,i.jsx)(ey.tL.LimitKeybindingScope,{commandIds:["copilot-chat:send-message","github:cancel"],children:(0,i.jsx)(eU.A,{ref:F,size:"large",leadingVisual:(0,i.jsx)(ti,{context:z}),trailingVisual:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[e&&(0,i.jsx)(ey.N5,{variant:"invisible",icon:y.SquareFillIcon,className:"fgColor-danger",commandId:"github:cancel"}),(0,i.jsx)("div",{className:tr.copilotAvatar,children:(0,i.jsx)(e4.N,{animationType:e?e4.L.Thinking:e4.L.Idle,loopAnimation:!0})})]}),value:B,onChange:X,disabled:e,placeholder:"Search for actions"})})})})},N[33]=z,N[34]=q,N[35]=J,N[36]=K,N[37]=B,N[38]=U,N[39]=H,N[40]=I.isWaitingOnCopilot,N[41]=f):f=N[41];let Z=f;N[42]!==t||N[43]!==I.isWaitingOnCopilot||N[44]!==I.messagesLoading.state||N[45]!==I.streamingMessage?(x=()=>{let e="loading"===I.messagesLoading.state,n="loaded"===I.messagesLoading.state,r="error"===I.messagesLoading.state;return(0,i.jsx)(tt.$,{children:(0,i.jsxs)(w.A,{className:tr.chatMessageWrapper,sx:{".message-container":{padding:0,display:"block","> :first-child":{display:"none"},".message-actions":{display:"none"}}},children:[e&&(0,i.jsx)(i.Fragment,{children:"Loading..."}),r&&(0,i.jsx)(i.Fragment,{children:"Error..."}),I.isWaitingOnCopilot&&(I.streamingMessage?(0,i.jsx)(e9.c,{message:I.streamingMessage,isStreaming:!0,inputRef:F,excludeFeedback:!0},I.streamingMessage.id):(0,i.jsx)(e6.r,{lines:3})),n&&!e&&t&&(0,i.jsx)(e9.c,{message:t,isStreaming:t.id===I.streamingMessage?.id,inputRef:F,excludeFeedback:!0},t.id)]})})},N[42]=t,N[43]=I.isWaitingOnCopilot,N[44]=I.messagesLoading.state,N[45]=I.streamingMessage,N[46]=x):x=N[46];let ee=x;N[47]!==Y||N[48]!==ee||N[49]!==T?(g=()=>T===td.Initial?Y():T===td.Complete?ee():void 0,N[47]=Y,N[48]=ee,N[49]=T,N[50]=g):g=N[50];let et=g;N[51]!==t||N[52]!==G||N[53]!==J||N[54]!==K||N[55]!==T?(b=()=>T===td.Initial?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:"Select an action"}),(0,i.jsxs)("div",{className:"d-flex flex-row",children:[(0,i.jsx)(eu.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>G("close-button"),trailingVisual:(0,i.jsx)(e7.U,{keys:"Esc"}),children:"Close"}),(0,i.jsx)(eu.Q,{className:"fgColor-muted",variant:"invisible",onClick:J,trailingVisual:(0,i.jsx)(ey.hh,{commandId:"copilot-chat:send-message"}),children:"Confirm"})]})]}):T===td.Complete?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te.$,{message:t,children:(0,i.jsx)(tn.G,{iconSize:"small"})}),(0,i.jsx)(e5.T,{textToCopy:t.content??"",ariaLabel:"Copy to clipboard"})]})}),(0,i.jsxs)("div",{className:"d-flex flex-row",children:[(0,i.jsx)(eu.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>G("close-button"),trailingVisual:(0,i.jsx)(e7.U,{keys:"Esc"}),children:"Close"}),(0,i.jsx)(eu.Q,{className:"fgColor-muted",variant:"invisible",onClick:K,trailingVisual:(0,i.jsx)(ey.hh,{commandId:"copilot-chat:continue-in-immersive"}),children:"Continue in Chat"})]})]}):void 0,N[51]=t,N[52]=G,N[53]=J,N[54]=K,N[55]=T,N[56]=b):b=N[56];let en=b;if(k)return N[57]!==G||N[58]!==K||N[59]!==I.currentRepository||N[60]!==I.isWaitingOnCopilot?(j=()=>(0,i.jsxs)(eX.l.Header,{className:"d-flex flex-row flex-justify-between flex-items-center px-4 pt-2 mr-n3 box-shadow-none",children:[(0,i.jsx)("div",{className:"fgColor-muted",children:(0,i.jsx)(ts,{topic:I.currentRepository})}),(0,i.jsx)("div",{"data-testid":"copilot-assistive-command-window"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(C.K,{size:"small",variant:"invisible",icon:y.ScreenFullIcon,"aria-label":"Take conversation to immersive",disabled:I.isWaitingOnCopilot,onClick:K}),(0,i.jsx)(eX.l.CloseButton,{onClose:()=>G("close-button")})]})]}),N[57]=G,N[58]=K,N[59]=I.currentRepository,N[60]=I.isWaitingOnCopilot,N[61]=j):j=N[61],N[62]!==et||N[63]!==Z?(v=()=>(0,i.jsxs)(eX.l.Body,{className:"py-1",children:[Z(),et()]}),N[62]=et,N[63]=Z,N[64]=v):v=N[64],N[65]!==en||N[66]!==I.isWaitingOnCopilot?(S=()=>{if(!I.isWaitingOnCopilot)return(0,i.jsx)(eX.l.Footer,{className:"d-flex flex-row flex-justify-between flex-items-center px-3 py-2 fgColor-muted",children:en()})},N[65]=en,N[66]=I.isWaitingOnCopilot,N[67]=S):S=N[67],N[68]!==G||N[69]!==j||N[70]!==v||N[71]!==S?(_=(0,i.jsx)(eX.l,{className:tr.dialog,initialFocusRef:F,onClose:G,renderHeader:j,renderBody:v,renderFooter:S}),N[68]=G,N[69]=j,N[70]=v,N[71]=S,N[72]=_):_=N[72],_}function th(e){return"custom"===e.type}function tp(e){return"assistant"===e.role}try{tm.displayName||(tm.displayName="CommandWindow")}catch{}var tu=n(63867),tf=n(6869);function tx(){let e,t,n,r=(0,a.c)(9),o=(0,c.Pk)(),s=(0,d.b)();r[0]!==s||r[1]!==o.threads?(t=tj(s.sortThreads(o.threads)),r[0]=s,r[1]=o.threads,r[2]=t):t=r[2],e=t;let[l,m]=(0,O.useState)(!1),h=(0,O.useRef)(null),p=e$.W.deleteAllConversations;if("loading"===o.threadsLoading.state&&e.length<2){let e;return r[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(w.A,{sx:{p:3,height:"100%",display:"grid",alignItems:"center",alignContent:"center",flexDirection:"column",justifyItems:"center",gap:2},children:[(0,i.jsx)(tu.A,{}),"Loading threads\u2026"]}),r[3]=e):e=r[3],e}return r[4]!==s||r[5]!==l||r[6]!==o.threadsLoading||r[7]!==e?(n=(0,i.jsx)(i.Fragment,{children:"error"===o.threadsLoading.state?(0,i.jsx)(tg,{threadsLoading:o.threadsLoading}):(0,i.jsxs)(i.Fragment,{children:[e.length>0&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eF.l,{sx:{overflowY:"auto"},children:(0,i.jsxs)(eF.l.Group,{children:[(0,i.jsx)(eF.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,i.jsx)(tb,{threads:e,manager:s}),e.length>1&&p&&(0,i.jsx)(ty,{threads:e,manager:s,shouldDeleteAllThreads:l,setShouldDeleteAllThreads:m,returnFocusRef:h})]})})}),0===e.length&&(0,i.jsxs)(w.A,{sx:{p:3,color:"fg.subtle"},children:[(0,i.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,i.jsx)(eu.Q,{onClick:()=>s.selectThread(null),block:!0,children:"Start a new conversation"})]})]})}),r[4]=s,r[5]=l,r[6]=o.threadsLoading,r[7]=e,r[8]=n):n=r[8],n}let tg=e=>{let t,n,r,o=(0,a.c)(4),{threadsLoading:s}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:3},o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(V.A,{icon:y.AlertIcon}),o[1]=n):n=o[1];let l="error"===s.state?s.error:"Something went wrong. Please try again later.";return o[2]!==l?(r=(0,i.jsx)(w.A,{sx:t,children:(0,i.jsxs)(tf.A,{variant:"warning",children:[n,l]})}),o[2]=l,o[3]=r):r=o[3],r},tb=e=>{let t,n,r=(0,a.c)(7),{threads:o,manager:s}=e;if(r[0]!==s||r[1]!==o){let e;r[3]!==s?(e=e=>(0,i.jsxs)(eF.l.Item,{onSelect:()=>s.selectThread(e),className:"mr-0 pr-2",children:[(0,i.jsx)(eF.l.LeadingVisual,{children:(0,i.jsx)(y.CommentIcon,{})}),(0,m.CB)(e),(0,i.jsx)(eF.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,i.jsx)(v.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,i.jsx)(eF.l.TrailingAction,{icon:y.TrashIcon,label:`Delete conversation: "${(0,m.CB)(e)}"`,onClick:async()=>s.deleteThreadKeepSelection(e)})]},e.id),r[3]=s,r[4]=e):e=r[4],t=o.map(e),r[0]=s,r[1]=o,r[2]=t}else t=r[2];return r[5]!==t?(n=(0,i.jsx)(i.Fragment,{children:t}),r[5]=t,r[6]=n):n=r[6],n},ty=e=>{let t,n,r,o,s,l=(0,a.c)(15),{threads:c,manager:d,shouldDeleteAllThreads:m,setShouldDeleteAllThreads:h,returnFocusRef:p}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={mt:2,ml:3},l[0]=t):t=l[0],l[1]!==h?(n=()=>h(!0),l[1]=h,l[2]=n):n=l[2],l[3]!==p||l[4]!==n?(r=(0,i.jsx)(eu.Q,{"data-testid":"delete-all-threads-button",sx:t,ref:p,onClick:n,children:"Delete all conversations"}),l[3]=p,l[4]=n,l[5]=r):r=l[5],l[6]!==d||l[7]!==p||l[8]!==h||l[9]!==m||l[10]!==c?(o=!0===m&&(0,i.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,i.jsxs)(eX.l,{title:"Delete all conversations",width:"small",onClose:()=>h(!1),returnFocusRef:p,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>h(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await d.deleteAllThreadKeepSelection(c),h(!1)},autoFocus:!0}],children:["You are trying to delete ",c.length," conversations. Are you sure? This can\u2019t be undone."]})}),l[6]=d,l[7]=p,l[8]=h,l[9]=m,l[10]=c,l[11]=o):o=l[11],l[12]!==r||l[13]!==o?(s=(0,i.jsxs)(i.Fragment,{children:[r,o]}),l[12]=r,l[13]=o,l[14]=s):s=l[14],s},tj=e=>e.filter(e=>void 0===e.customCopilotID);try{tx.displayName||(tx.displayName="ThreadListView")}catch{}try{tg.displayName||(tg.displayName="ErrorView")}catch{}try{tb.displayName||(tb.displayName="ListView")}catch{}try{ty.displayName||(ty.displayName="DeleteAll")}catch{}var tw=n(29943),tv=n(67522);let tS=(0,em.E7)();function t_(e){let t,n=(0,a.c)(2);return n[0]!==e?(t=(0,i.jsx)(ex.RelayEnvironmentProvider,{environment:tS,children:(0,i.jsx)(tC,{...e})}),n[0]=e,n[1]=t):t=n[1],t}function tC(e){let t,n,r,o,s,d=(0,a.c)(9),m=(0,O.useRef)(null),h=(0,O.useRef)(null),p=eC.J.selectedThreadID;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=eC.J.getCurrentReferences(p)||[],d[0]=t):t=d[0];let u=t,f=e.renderPopover||!1;return d[1]!==e.reactPartialAnchor||d[2]!==f?(n=(0,i.jsx)(tN,{renderPopover:f,ref:m,reactPartialAnchor:e.reactPartialAnchor,inputRef:h}),d[1]=e.reactPartialAnchor,d[2]=f,d[3]=n):n=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(ek.cB,{}),o=(0,i.jsx)(tL,{inputRef:h}),d[4]=r,d[5]=o):(r=d[4],o=d[5]),d[6]!==e||d[7]!==n?(s=(0,i.jsx)(l.LB,{children:(0,i.jsxs)(c.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:p,refs:u,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[n,r,o]})}),d[6]=e,d[7]=n,d[8]=s):s=d[8],s}let tO=({notice:e})=>`/settings/dismiss-notice/${e}`,tN=O.forwardRef((e,t)=>{let n,r,o,s,h,p,u,f,x,g,b,j,v,S,_,N,I,D,k=(0,a.c)(63),L=(0,d.b)(),A=(0,c.Pk)();k[0]!==A?(n=(0,eO.W)(A),k[0]=A,k[1]=n):n=k[1];let R=n,{currentTopic:P,currentView:E}=A,{screenSize:T}=(0,l.lm)(),{licenseType:V}=(0,e3.xR)(),F=(0,tv.GF)(A.availableModels),B=(0,O.useRef)(!0);k[2]!==P||k[3]!==F||k[4]!==L||k[5]!==R||k[6]!==A.chatIsOpen?(r=()=>(0,tw.HS)(e=>void L.handleOpenPanelEvent(R,e,A.chatIsOpen,P,F)),o=[P,R,L,A.chatIsOpen,F],k[2]=P,k[3]=F,k[4]=L,k[5]=R,k[6]=A.chatIsOpen,k[7]=r,k[8]=o):(r=k[7],o=k[8]),(0,O.useEffect)(r,o),k[9]!==L?(s=()=>(0,tw.f7)(e=>{L.handleAddReferenceEvent(e)}),k[9]=L,k[10]=s):s=k[10],k[11]!==L||k[12]!==R||k[13]!==A.currentReferences?(h=[R,L,A.currentReferences],k[11]=L,k[12]=R,k[13]=A.currentReferences,k[14]=h):h=k[14],(0,O.useEffect)(s,h),k[15]!==L?(p=()=>(0,tw.Tv)(e=>{L.handleSymbolChangedEvent(e)}),k[15]=L,k[16]=p):p=k[16],(0,O.useEffect)(p),k[17]!==F||k[18]!==L?(u=()=>(0,tw.fD)(e=>{L.handleSearchCopilotEvent(e,F)}),f=[L,F],k[17]=F,k[18]=L,k[19]=u,k[20]=f):(u=k[19],f=k[20]),(0,O.useEffect)(u,f),k[21]!==E||k[22]!==L||k[23]!==A.chatVisibleSettingPath||k[24]!==A.selectedThreadID||k[25]!==A.threads?(x=()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,n=A.selectedThreadID;if("1"===t.get("copilot")&&n){let t=A.threads.get(n)??null;L.openChat(t,E,"immersive",A.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,el.kd)(e.toString())}},g=[L,A.selectedThreadID,A.threads,E,A.chatVisibleSettingPath],k[21]=E,k[22]=L,k[23]=A.chatVisibleSettingPath,k[24]=A.selectedThreadID,k[25]=A.threads,k[26]=x,k[27]=g):(x=k[26],g=k[27]),(0,O.useEffect)(x,g),k[28]!==L||k[29]!==T||k[30]!==R||k[31]!==A.chatIsVisible||k[32]!==A.chatVisibleSettingPath||k[33]!==A.currentView?(b=()=>{B.current&&(B.current=!1,A.chatIsVisible&&!eC.J.getCollapsedState()&&T>l.Gy.large&&L.openChat(R,A.currentView,"page load",A.chatVisibleSettingPath))},j=[L,T,R,A.chatIsVisible,A.chatVisibleSettingPath,A.currentView],k[28]=L,k[29]=T,k[30]=R,k[31]=A.chatIsVisible,k[32]=A.chatVisibleSettingPath,k[33]=A.currentView,k[34]=b,k[35]=j):(b=k[34],j=k[35]),(0,O.useEffect)(b,j),k[36]!==P||k[37]!==E||k[38]!==V||k[39]!==L||k[40]!==e.inputRef||k[41]!==R||k[42]!==A.chatIsOpen||k[43]!==A.chatVisibleSettingPath?(v=async()=>{if(A.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(V===eB.mF.Unlicensed){if(A.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,eh.DI)(A.chatVisibleSettingPath,{method:"PUT",body:e}),eC.J.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}L.openChat(R,E,"header",A.chatVisibleSettingPath,(0,m.Z6)(P)?(0,m.qS)(P):void 0)}},k[36]=P,k[37]=E,k[38]=V,k[39]=L,k[40]=e.inputRef,k[41]=R,k[42]=A.chatIsOpen,k[43]=A.chatVisibleSettingPath,k[44]=v):v=k[44];let $=v;if(e.reactPartialAnchor){let t,n,r,o;return k[45]===Symbol.for("react.memo_cache_sentinel")?(t={position:"relative"},k[45]=t):t=k[45],k[46]!==e.reactPartialAnchor?(n=(0,i.jsx)(tI,{reactPartialAnchor:e.reactPartialAnchor}),k[46]=e.reactPartialAnchor,k[47]=n):n=k[47],k[48]!==e.renderPopover?(r=e.renderPopover?(0,i.jsx)(tk,{renderPopover:!0}):(0,i.jsx)(i.Fragment,{}),k[48]=e.renderPopover,k[49]=r):r=k[49],k[50]!==n||k[51]!==r?(o=(0,i.jsxs)(w.A,{sx:t,children:[n,r]}),k[50]=n,k[51]=r,k[52]=o):o=k[52],o}return k[53]===Symbol.for("react.memo_cache_sentinel")?(S={position:"relative"},k[53]=S):S=k[53],k[54]===Symbol.for("react.memo_cache_sentinel")?(_={backgroundColor:"transparent",borderColor:"border.default",color:"fg.muted",mb:1,"&:hover":{backgroundColor:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg))"}},k[54]=_):_=k[54],k[55]!==$||k[56]!==t?(N=(0,i.jsx)(ef.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,i.jsx)("div",{children:(0,i.jsx)(C.K,{unsafeDisableTooltip:!0,ref:t,id:eS.fv,icon:y.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":eS.wJ,onClick:$,className:"AppHeader-button",sx:_,"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),k[55]=$,k[56]=t,k[57]=N):N=k[57],k[58]!==e.renderPopover?(I=(0,i.jsx)(tk,{renderPopover:e.renderPopover}),k[58]=e.renderPopover,k[59]=I):I=k[59],k[60]!==N||k[61]!==I?(D=(0,i.jsxs)(w.A,{sx:S,className:"AppHeader-CopilotChatButton",children:[N,I]}),k[60]=N,k[61]=I,k[62]=D):D=k[62],D});function tI(e){let t,n=(0,a.c)(1),{reactPartialAnchor:r}=e;return(0,ed.QJ)(r,tD),n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(i.Fragment,{}),n[0]=t):t=n[0],t}function tD(){(0,ec.BI)("dotcom_chat.activate",{target:"GLOBAL_COPILOT_MENU_HEADER_TO_IMMERSIVE",mode:"global_nav"})}function tk(e){let t,n,r,o,s,l=(0,a.c)(6),{renderPopover:c}=e,[d,m]=(0,O.useState)(c);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=async()=>{m(!1),await (0,eh.DI)(tO({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},l[0]=t):t=l[0];let h=t;return l[1]===Symbol.for("react.memo_cache_sentinel")?(n={right:"-4px"},l[1]=n):n=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(r={marginTop:2},l[2]=r):r=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsxs)(ep.A.Content,{sx:r,"data-testid":"copilot-chat-cta-popover",children:[(0,i.jsxs)("p",{children:["You now have access to"," ",(0,i.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,i.jsx)(eu.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:h,children:"Got it!"})]}),l[3]=o):o=l[3],l[4]!==d?(s=(0,i.jsx)(ep.A,{open:d,caret:"top-right",sx:n,children:o}),l[4]=d,l[5]=s):s=l[5],s}function tL(e){let t,n,r,o,s,l,m,h,p=(0,a.c)(33),{inputRef:u}=e,f=(0,c.Pk)(),x=(0,d.b)(),g=(0,O.useRef)(null),[b,y]=(0,O.useState)(eB.hs.None),[j,v]=(0,O.useState)(!1),S=(0,O.useRef)(f.messages.length),_=(0,O.useRef)(f.messagesLoading.state),{panelWidth:C,panelHeight:N,startResize:I,onResizerKeyDown:D}=(0,e_.Tz)();if(p[0]!==f.chatIsOpen||p[1]!==f.messages.length||p[2]!==f.messagesLoading.state?(t=()=>{f.messages.length>S.current&&!f.chatIsOpen&&"loaded"===_.current&&v(!0),S.current=f.messages.length,_.current=f.messagesLoading.state},n=[f.chatIsOpen,f.messages.length,f.messagesLoading.state],p[0]=f.chatIsOpen,p[1]=f.messages.length,p[2]=f.messagesLoading.state,p[3]=t,p[4]=n):(t=p[3],n=p[4]),(0,O.useEffect)(t,n),p[5]!==j||p[6]!==f.chatIsOpen?(r=()=>{f.chatIsOpen&&j&&v(!1)},o=[j,f.chatIsOpen],p[5]=j,p[6]=f.chatIsOpen,p[7]=r,p[8]=o):(r=p[7],o=p[8]),(0,O.useEffect)(r,o),"copilot-task-oriented-assistive"===f.entryPointId&&e$.W.taskOrientedAssistive){let e;return p[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(tm,{}),p[9]=e):e=p[9],e}p[10]!==x||p[11]!==f.entryPointId?(s=e=>{y(eB.hs.None),x.closeChat();let t=f.entryPointId??eS.fv;if(e&&t){let e=document.getElementById(t),n=window.scrollX,r=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(n,r)},0)}},p[10]=x,p[11]=f.entryPointId,p[12]=s):s=p[12];let k=f.messages.length<=1&&(!!f.streamingMessage||f.isWaitingOnCopilot);return p[13]!==j||p[14]!==b||p[15]!==I||p[16]!==k?(l=(0,i.jsx)(eZ,{staffDialogRef:g,showStaffDialog:b,setShowStaffDialog:y,isResponding:k,hasUnreadMessages:j,startResize:I}),p[13]=j,p[14]=b,p[15]=I,p[16]=k,p[17]=l):l=p[17],p[18]!==u||p[19]!==f.chatIsOpen||p[20]!==f.currentView||p[21]!==f.selectedThreadID?(m=f.chatIsOpen&&(0,i.jsx)(w.A,{sx:{display:"flex",flexGrow:1,overflowY:"auto"},children:(0,i.jsx)(w.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,maxWidth:"100%"},children:"thread"===f.currentView?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eg.r,{inputRef:u},f.selectedThreadID),(0,i.jsx)(es,{})]}):(0,i.jsx)(tx,{})})}),p[18]=u,p[19]=f.chatIsOpen,p[20]=f.currentView,p[21]=f.selectedThreadID,p[22]=m):m=p[22],p[23]!==u||p[24]!==D||p[25]!==N||p[26]!==C||p[27]!==b||p[28]!==I||p[29]!==s||p[30]!==l||p[31]!==m?(h=(0,i.jsxs)(eL,{staffDialogRef:g,handleClose:s,showStaffDialog:b,panelWidth:C,panelHeight:N,startResize:I,onResizerKeyDown:D,initialFocusRef:u,children:[l,m]}),p[23]=u,p[24]=D,p[25]=N,p[26]=C,p[27]=b,p[28]=I,p[29]=s,p[30]=l,p[31]=m,p[32]=h):h=p[32],h}tN.displayName="CopilotHeaderButton",tL.displayName="ChatPanelWithHeader";try{t_.displayName||(t_.displayName="CopilotChat")}catch{}try{tC.displayName||(tC.displayName="CopilotChatNoRelay")}catch{}try{tI.displayName||(tI.displayName="ExternalAnchorListener")}catch{}try{tk.displayName||(tk.displayName="WelcomePopover")}catch{}(0,o.k)("copilot-chat",{Component:t_})},29943:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{HS:()=>a,Oc:()=>i,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>l,qR:()=>o});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),r(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),r(this,"reference",void 0),r(this,"openPanel",void 0),r(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),r(this,"context",void 0),this.context=e}};function o(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function i(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function a(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},38007:(e,t,n)=>{let r;n.d(t,{BI:()=>u,Ti:()=>f,lA:()=>h,sX:()=>p});var o=n(70837),i=n(18679),a=n(85351),s=n(7479);let{getItem:l}=(0,a.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.O)("octolytics");delete e.baseContext,r=new i.s(e)}catch{}function m(e){let t=(0,o.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,r]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=r);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function h(e){r?.sendPageView(m(e))}function p(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function u(e,t={}){let n=p(),o=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(o[e]=`${n}`);r&&(m(o),r.sendEvent(e||"unknown",m(o)))}function f(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},98075:(e,t,n)=>{n.d(t,{D7:()=>o,MQ:()=>r,gE:()=>i});let r=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},o=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,i=e=>{if(!e)return;if(!r(e))return e;let[,,...t]=e.split("/");return t.join("/")}},98386:(e,t,n)=>{n.d(t,{G:()=>r});let r=e=>({})},80663:(e,t,n)=>{n.d(t,{I:()=>a});var r=n(96540),o=n(17515),i=n(60674);function a(e,t,n=[]){let s=(0,r.useCallback)(e,n),l=(0,i.BP)(),c=(0,r.useRef)(l===i.O8.ClientRender),[d,m]=(0,r.useState)(()=>l===i.O8.ClientRender?s():t),h=(0,r.useCallback)(()=>{m(s)},[s]);return(0,o.N)(()=>{c.current||m(s),c.current=!1},[s,...n]),[d,h]}},40245:(e,t,n)=>{n.d(t,{u:()=>a});var r=n(96235),o=n(60039),i=n(96540);function a(e,t,n,a){let[s,l]=(0,i.useState)({loading:!0}),c=t&&e&&n&&a?(0,r.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"file-contributors",path:a}):null;return(0,i.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,o.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},44263:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(90851),o=n(23125),i=n(96540);let a=(e,t,{leading:n=!1,maxWait:a,trailing:s=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,r.M)(e),d=(0,i.useMemo)(()=>{let e=void 0===a?{leading:n,trailing:s}:{leading:n,trailing:s,maxWait:a};return(0,o.A)((...e)=>c.current(...e),t,e)},[c,t,n,a,s]);return(0,i.useEffect)(()=>()=>{d?.[l]()},[d,l]),d}},22279:(e,t,n)=>{n.d(t,{E:()=>h,q:()=>m});var r=n(5225),o=n(96235),i=n(21715),a=n(60039),s=n(96540);async function l(e){let t=await (0,a.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,r.A)(l,{cache:c});function m(){c.clear()}function h(e,t,n,r){let[a,l]=(0,s.useState)(),[c,h]=(0,s.useState)(!1),[p,u]=(0,s.useState)(!0),f=t&&e&&n&&r?(0,o.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"latest-commit",path:r}):null;return(0,s.useEffect)(()=>{let e=new AbortController;return document.addEventListener(i.z.START,m,{signal:e.signal}),()=>{e.abort()}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;h(!1),u(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):h(!0)}catch{h(!0)}u(!1)}})(),function(){e=!0}},[f,n]),[a,p,c]}},33484:(e,t,n)=>{n.d(t,{l:()=>m});var r=n(74848),o=n(21728),i=n(13455),a=n(60039),s=n(96540),l=n(31971),c=n(69458);let d=[{name:"Hate it",value:1,icon:i.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:i.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:i.Cf,color:"satisfied"},{name:"Love it",value:4,icon:i.mN,color:"verySatisfied"}],m=(0,s.forwardRef)(function(e,t){let n,m,h,p,u=(0,o.c)(7),{mode:f,returnFocusRef:x}=e,g=(0,s.useRef)(null),b=(0,s.useRef)(null),y=(0,s.useRef)(void 0);u[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>({openDialog:e=>{y.current=e,l.W.copilotChatInterviewSurvey?g.current?.openDialog():b.current?.openDialog(e)}}),u[0]=n):n=u[0],(0,s.useImperativeHandle)(t,n),u[1]!==f?(m=async(e,t)=>{let n=[];if(null==e&&n.push("Please select a rating."),t.length>2e3&&n.push("Please keep your feedback within 2000 characters or less."),n.length>0)return n;let r={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,a.lS)("/github-copilot/feedback",{method:"POST",body:r})).ok||n.push("An error occurred while submitting your feedback.")}catch{n.push("An error occurred while submitting your feedback.")}return n},u[1]=f,u[2]=m):m=u[2];let j=m;return u[3]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)(c.E,{ref:g,onClose:e=>{"no-thanks"===e&&b.current?.openDialog(y.current)}}),u[3]=h):h=u[3],u[4]!==j||u[5]!==x?(p=(0,r.jsxs)(r.Fragment,{children:[h,(0,r.jsx)(i.NE,{ref:b,options:d,onSubmit:j,returnFocusRef:x})]}),u[4]=j,u[5]=x,u[6]=p):p=u[6],p});m.displayName="ConversationFeedbackDialog"},75320:(e,t,n)=>{n.d(t,{Y:()=>N});var r,o=n(74848),i=n(21728),a=n(70170),s=n(38007),l=n(98386),c=n(42080),d=n(17515),m=n(60039),h=n(16255),p=n(73451),u=n(19647),f=n(55847),x=n(2724),g=n(96540),b=n(40961),y=n(34901),j=n(47397);let w={footerContainer:"PersonalInstructionsDialog-module__footerContainer--YsPvr"};var v=n(38621),S=n(15385);let _={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},C=(0,g.forwardRef)(function(e,t){let n,r,a,s,l,c,d,m,h=(0,i.c)(19),{onSelect:p}=e,[u,f]=(0,g.useState)(!1);h[0]!==u?(n=()=>f(!u),h[0]=u,h[1]=n):n=h[1];let x=n;h[2]===Symbol.for("react.memo_cache_sentinel")?(r={marginBottom:"1px"},h[2]=r):r=h[2],h[3]!==p||h[4]!==u?(a=u&&Object.entries(_)?.map(e=>{let[t,n]=e;return(0,o.jsxs)(S.l.Item,{"aria-label":`${n.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>p(t,n.body),children:[(0,o.jsx)(v.PlusIcon,{}),t]},t)}),h[3]=p,h[4]=u,h[5]=a):a=h[5],h[6]!==a?(s=(0,o.jsx)(S.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:a}),h[6]=a,h[7]=s):s=h[7];let b=u?"Hide templates":"Show templates";return h[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},h[8]=l):l=h[8],h[9]!==u?(c=u?(0,o.jsx)(v.XIcon,{}):(0,o.jsx)(v.LightBulbIcon,{}),h[9]=u,h[10]=c):c=h[10],h[11]!==b||h[12]!==c||h[13]!==x?(d=(0,o.jsx)(S.l,{className:"d-flex flex-column flex-justify-end",children:(0,o.jsx)(S.l.Item,{"aria-label":b,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:x,children:c})}),h[11]=b,h[12]=c,h[13]=x,h[14]=d):d=h[14],h[15]!==t||h[16]!==s||h[17]!==d?(m=(0,o.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:r,children:[s,d]}),h[15]=t,h[16]=s,h[17]=d,h[18]=m):m=h[18],m});try{C.displayName||(C.displayName="PersonalInstructionsTemplates")}catch{}try{(r=PersonalInstructionsTemplatesWithRef).displayName||(r.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let O=(e,t)=>{let n,r,o=(0,i.c)(4),s=void 0===t?500:t,[l,c]=(0,g.useState)(48);return o[0]!==e||o[1]!==s?(n=()=>{let t=(0,a.s)(()=>{e?.current&&c(e.current.clientHeight??48)},s),n=new ResizeObserver(t);return e?.current&&n.observe(e.current),()=>{t.cancel(),n?.disconnect?.()}},r=[e,s],o[0]=e,o[1]=s,o[2]=n,o[3]=r):(n=o[2],r=o[3]),(0,g.useEffect)(n,r),l},N=({onDismiss:e,returnFocusRef:t})=>{let n=(0,y.Pk)(),r=(0,j.b)(),[i,a]=(0,g.useState)(n.personalInstructions??""),[v,S]=(0,g.useState)(void 0),[_,N]=(0,g.useState)(!1),D=(0,g.useRef)(null),k=(0,g.useRef)(null),[L,A]=(0,g.useState)(""),R=O(k);(0,d.N)(()=>{D?.current&&(D.current.scrollTop=D.current.scrollHeight)},[i]);let P=(0,g.useCallback)(async()=>{if(!_){N(!0),L&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:L});try{let n=await (0,m.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:i}});if(n.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),r.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:i}),(0,b.flushSync)(()=>e()),t.current?.focus();else{let e=await n.json();S(String(e.errorMessage))}}catch{S("An error occurred while saving your personal instructions.")}finally{N(!1)}}},[_,i,r,t,e,L]),E=(e,t)=>{t&&(a(i?`${i}
${t}`:t),A(e),D?.current?.focus())},T=()=>{P()},V=(0,g.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,b.flushSync)(()=>e()),t.current?.focus()},[e,t]);return(0,o.jsx)(h.Z,{children:(0,o.jsx)(x.l,{onClose:V,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",renderBody:()=>(0,o.jsx)(x.l.Body,{children:(0,o.jsx)("form",{onSubmit:P,children:(0,o.jsxs)(p.A,{children:[(0,o.jsx)(p.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,o.jsx)("div",{className:"width-full position-relative",children:(0,o.jsxs)(c.tL,{commands:{"github:submit-form":T},children:[(0,o.jsx)(u.Ay,{ref:D,className:"width-full",style:{paddingBottom:`${R}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:i,validationStatus:v||i.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{a(e.target.value),S(void 0)}}),(0,o.jsx)(C,{ref:k,onSelect:E})]})}),(0,o.jsx)(I,{text:i,promptCharLimit:4e3}),v&&(0,o.jsx)(p.A.Validation,{variant:"error",children:(0,o.jsx)("span",{...(0,l.G)("error-message"),children:v})})]})})}),renderFooter:()=>(0,o.jsxs)("div",{className:w.footerContainer,children:[(0,o.jsx)(f.Q,{variant:"default",onClick:V,children:"Cancel"}),(0,o.jsx)(f.Q,{loading:_,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:P,children:"Save"})]})})})};function I(e){let t,n,r,a,s=(0,i.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(n=(0,o.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=n):n=s[2],s[3]!==d||s[4]!==n?(r=(0,o.jsxs)(o.Fragment,{children:[n," ","/ ",d," characters"]}),s[3]=d,s[4]=n,s[5]=r):r=s[5];let m=r;return s[6]!==m||s[7]!==d||s[8]!==c.length?(a=(0,o.jsx)(o.Fragment,{children:c.length>d?(0,o.jsx)(p.A.Validation,{variant:"error",children:m}):(0,o.jsx)(p.A.Caption,{children:m})}),s[6]=m,s[7]=d,s[8]=c.length,s[9]=a):a=s[9],a}try{N.displayName||(N.displayName="PersonalInstructionsDialog")}catch{}try{I.displayName||(I.displayName="CharacterCount")}catch{}},74302:(e,t,n)=>{n.d(t,{X:()=>y});var r=n(74848),o=n(21728),i=n(38621),a=n(73451),s=n(19647),l=n(9591),c=n(75177),d=n(46309),m=n(81679),h=n(87330),p=n(55847),u=n(16255),f=n(2724),x=n(96540),g=n(74244),b=n(47397);let y=e=>{let t,n,y,w,v,S,_,C,O,N,I,D,k,L,A,R,P,E,T,V,F,B,$,z,W,M,H=(0,o.c)(56),{onDismiss:U,promptDialogRef:G}=e,X=(0,b.b)(),Q=g.J.settings,[J,q]=(0,x.useState)(Q?.instructionPrompt||void 0);H[0]===Symbol.for("react.memo_cache_sentinel")?(t=Q?.skillOverrides??[],H[0]=t):t=H[0];let[K,Y]=(0,x.useState)(t),[Z,ee]=(0,x.useState)(Q?.temperature||.7),et=(0,x.useRef)(void 0);H[1]!==X||H[2]!==U||H[3]!==J||H[4]!==Z||H[5]!==K?(n=()=>{let e=K.filter(j);X.setCopilotSettings({instructionPrompt:J||"",skillOverrides:e,temperature:Z}),U()},H[1]=X,H[2]=U,H[3]=J,H[4]=Z,H[5]=K,H[6]=n):n=H[6];let en=n;H[7]!==X?(y=async()=>{if(et.current)return void q(et.current);let e=await X.getSystemPrompt();et.current=e,q(e)},H[7]=X,H[8]=y):y=H[8];let er=y;H[9]!==er||H[10]!==J?(w=()=>{(async()=>{void 0===J&&await er()})()},H[9]=er,H[10]=J,H[11]=w):w=H[11],H[12]!==er||H[13]!==X||H[14]!==J?(v=[er,X,J],H[12]=er,H[13]=X,H[14]=J,H[15]=v):v=H[15],(0,x.useEffect)(w,v),H[16]!==er?(S=()=>{er(),Y([]),ee(.7)},H[16]=er,H[17]=S):S=H[17];let eo=S;return H[18]===Symbol.for("react.memo_cache_sentinel")?(_={overflow:"auto"},H[18]=_):_=H[18],H[19]===Symbol.for("react.memo_cache_sentinel")?(C=(0,r.jsx)(a.A.Label,{children:"System Instructions"}),H[19]=C):C=H[19],H[20]===Symbol.for("react.memo_cache_sentinel")?(O=(0,r.jsx)(a.A.Caption,{children:(0,r.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),H[20]=O):O=H[20],H[21]===Symbol.for("react.memo_cache_sentinel")?(N={my:2},H[21]=N):N=H[21],H[22]===Symbol.for("react.memo_cache_sentinel")?(I=e=>q(e.target.value),H[22]=I):I=H[22],H[23]!==J?(D=(0,r.jsxs)(a.A,{children:[C,O,(0,r.jsx)(s.Ay,{block:!0,sx:N,"aria-label":"Prompt",name:"Prompt",value:J,onChange:I})]}),H[23]=J,H[24]=D):D=H[24],H[25]===Symbol.for("react.memo_cache_sentinel")?(k={pt:3},L=(0,r.jsx)(a.A.Label,{children:"Temperature"}),A=(0,r.jsx)(a.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),H[25]=k,H[26]=L,H[27]=A):(k=H[25],L=H[26],A=H[27]),H[28]===Symbol.for("react.memo_cache_sentinel")?(R=e=>ee(Number(e.target.value)),H[28]=R):R=H[28],H[29]!==Z?(P=(0,r.jsxs)(a.A,{sx:k,children:[L,A,(0,r.jsx)(l.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:Z,onChange:R})]}),H[29]=Z,H[30]=P):P=H[30],H[31]===Symbol.for("react.memo_cache_sentinel")?(E=(0,r.jsx)(c.A,{sx:{fontSize:3,py:3},children:"Tools"}),H[31]=E):E=H[31],H[32]!==K?(T=K.map((e,t)=>(0,r.jsxs)(x.Fragment,{children:[(0,r.jsxs)(d.B,{direction:"horizontal",className:"py-2",children:[(0,r.jsxs)(a.A,{children:[(0,r.jsx)(a.A.Label,{children:"Name"}),(0,r.jsx)(a.A.Caption,{children:(0,r.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,r.jsx)(l.A,{defaultValue:e.slug,onChange:e=>{K.map((n,r)=>{r===t&&(n.slug=e.target.value)})}})]}),(0,r.jsxs)(a.A,{children:[(0,r.jsx)(a.A.Label,{children:"Description"}),(0,r.jsx)(a.A.Caption,{children:(0,r.jsx)("span",{children:"Make changes to the tool description"})}),(0,r.jsx)(l.A,{defaultValue:e.description,onChange:n=>{K.map((r,o)=>{o===t&&(e.description=n.target.value)})}})]}),(0,r.jsxs)(a.A,{children:[(0,r.jsx)(a.A.Label,{id:"toggle",children:"Enabled?"}),(0,r.jsx)(m.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{K.map((n,r)=>{r===t&&(n.enabled=e)})}})]}),(0,r.jsx)(h.K,{icon:i.TrashIcon,"aria-label":"Delete tool",variant:"invisible",sx:{mt:"20px"},onClick:()=>{let e=[...K];1===K.length?Y([]):(e.splice(t,1),Y(e))}})]}),t===K.length-1&&(0,r.jsx)(p.Q,{leadingVisual:(0,r.jsx)(i.PlusIcon,{}),onClick:()=>Y([...K,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),H[32]=K,H[33]=T):T=H[33],H[34]!==K?(V=0===K.length&&(0,r.jsx)(p.Q,{leadingVisual:(0,r.jsx)(i.PlusIcon,{}),onClick:()=>Y([...K,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),H[34]=K,H[35]=V):V=H[35],H[36]!==D||H[37]!==P||H[38]!==T||H[39]!==V?(F=(0,r.jsxs)(f.l.Body,{children:[D,P,E,T,V]}),H[36]=D,H[37]=P,H[38]=T,H[39]=V,H[40]=F):F=H[40],H[41]!==U?(B={type:"button",onClick:U,content:"Cancel"},H[41]=U,H[42]=B):B=H[42],H[43]!==eo?($={type:"button",onClick:eo,content:"Reset"},H[43]=eo,H[44]=$):$=H[44],H[45]!==en?(z={type:"button",onClick:en,content:"Save",buttonType:"primary"},H[45]=en,H[46]=z):z=H[46],H[47]!==B||H[48]!==$||H[49]!==z?(W=(0,r.jsx)(f.l.Footer,{children:(0,r.jsx)(f.l.Buttons,{buttons:[B,$,z]})}),H[47]=B,H[48]=$,H[49]=z,H[50]=W):W=H[50],H[51]!==U||H[52]!==G||H[53]!==F||H[54]!==W?(M=(0,r.jsx)(u.Z,{children:(0,r.jsxs)(f.l,{ref:G,onClose:U,title:"Prompt Settings",width:"xlarge",sx:_,children:[F,W]})}),H[51]=U,H[52]=G,H[53]=F,H[54]=W,H[55]=M):M=H[55],M};try{y.displayName||(y.displayName="PromptDialog")}catch{}function j(e){return e.slug&&e.description}},34700:(e,t,n)=>{n.d(t,{X:()=>s});var r=n(74848),o=n(47139),i=n(56693),a=n(90735);let s=({children:e="Preview",feedbackUrl:t,className:n})=>(0,r.jsx)(a.V,{className:n,label:(0,r.jsx)(o.A,{variant:"success",children:e}),link:t?(0,r.jsx)(i.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}},56693:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(74848),o=n(34614);let i={link:"FeedbackLink-module__link--uY6Kq"},a=({feedbackUrl:e})=>(0,r.jsx)(o.A,{className:i.link,href:e,children:"Give feedback"});try{a.displayName||(a.displayName="FeedbackLink")}catch{}},90735:(e,t,n)=>{n.d(t,{V:()=>i});var r=n(74848),o=n(46309);let i=({label:e,link:t,className:n})=>t?(0,r.jsxs)(o.B,{direction:"horizontal",gap:"condensed",align:"baseline",className:n,children:[e," ",t]}):n?(0,r.jsx)("span",{className:n,children:e}):(0,r.jsx)(r.Fragment,{children:e});try{i.displayName||(i.displayName="LabelWithLink")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_entry_ts-ui_packages_use-client-value_use-client-value_ts-ui_package-24032a-7e386d792b5a.js.map