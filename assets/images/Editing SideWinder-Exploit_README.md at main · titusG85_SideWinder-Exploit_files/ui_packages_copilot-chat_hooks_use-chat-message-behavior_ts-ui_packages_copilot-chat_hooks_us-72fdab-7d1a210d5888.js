"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-72fdab"],{79929:(e,t,n)=>{n.d(t,{A:()=>r});let r={messageContainer:"ChatMessage-module__messageContainer--A1rW_","message-action":"ChatMessage-module__message-action--gd8kA",user:"ChatMessage-module__user--x7t7S",ai:"ChatMessage-module__ai--NWwZ0",contentContainer:"ChatMessage-module__contentContainer--s3iSV",message:"ChatMessage-module__message--_amJV",messageContent:"ChatMessage-module__messageContent--cNCus",hasClientConfirmations:"ChatMessage-module__hasClientConfirmations--nYPDm",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--q02uE",skillExecutionText:"ChatMessage-module__skillExecutionText--Fl5HE",fileListItem:"ChatMessage-module__fileListItem--jEMb9",avatar:"ChatMessage-module__avatar--rn6Gb"}},39376:(e,t,n)=>{n.d(t,{p:()=>g});var r=n(52811),a=n(38007),s=n(96540),i=n(83880),o=n(53207),l=n(22069),c=n(34901),u=n(47397),d=n(44435),m=n(88011),h=n(66889);function g({excludeFeedback:e,inputRef:t,isLatestMessage:n,isStreaming:g,removeOutdatedContentPreviewItems:p}){let{message:f}=(0,i.V)(),x=(0,c.bP)("activePlugin","currentUserLogin","mode"),y=(0,m.tD)(),b=(0,u.b)(),_=(0,o.nu)(x.activePlugin),N=(0,l.Th)(f,x.currentUserLogin),C="Copilot"===N.name,v="user"===N.type,T=C||(0,l.yh)(N),I=C&&!!f.agentErrors?.length,k=!I&&!!C&&!!f.error&&f.error.isError,j=C&&!e&&(!n||!g)&&!k,S=(0,s.useRef)(null),w=f.interrupted,$=f.clientConfirmations&&f.clientConfirmations.length>0,M=k&&f.error?.retryable,[A,R]=(0,s.useState)([]),[L,B]=(0,s.useState)(void 0),F=(M||w)&&n,P=(0,s.useMemo)(()=>({openLinksInCurrentTab:"assistive"===x.mode,isStreaming:n&&g,extensions:_?.markdownExtensions?_.markdownExtensions.map(e=>e()):[]}),[x.mode,n,g,_?.markdownExtensions]),U=!k&&(j||T&&!!f.content&&!g)&&(!v||!f.confirmations)||v&&!n||k&&n,D=(0,s.useRef)(0);(0,s.useEffect)(()=>{let e=(f.skillExecutions??[]).find(e=>!A.some(t=>t.slug===e.slug&&t.statusMessage===e.statusMessage));if(e){let t=setTimeout(()=>{D.current=Date.now(),R([...A,e]),B(e)},Math.max(0,2e3-(Date.now()-D.current)));return()=>clearTimeout(t)}},[f.skillExecutions,A]),(0,s.useEffect)(()=>{n&&g&&(0,r.i)("Copilot is responding")},[n,g]),(0,s.useEffect)(()=>{n&&!g&&S.current&&(0,r.C)(S.current)},[n,g]);let E=(0,s.useCallback)(async(e,t,n)=>{if(n)n("accepted"===e.state);else{let n=y();await b.sendChatMessage({thread:(0,d.W)(n),content:`@${N.name} ${(0,h.Z)(e.state)} Confirmation: ${t}`,references:f.references??[],topic:n.currentTopic,context:n.context,confirmations:e,customInstructions:n.customInstructions,model:n.model})}},[y,b,N.name,f.references]),G=(0,s.useCallback)(()=>{window.setTimeout(()=>t?.current?.focus(),1)},[t]),O=(0,s.useCallback)(async()=>{let e=y(),t=(0,d.W)(e);t&&(p?.(),G(),(0,a.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY",mode:e.mode}),await b.retryLastUnsuccessfulChatMessage(t))},[y,p,G,b]),z=(0,s.useCallback)(async e=>{let t=y(),n=(0,d.W)(t);n&&(p?.(),G(),(0,a.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY_FOR_NEW_SUBTHREAD",mode:t.mode}),await b.retryUserChatMessage(n,f,e))},[y,b,f,p,G]),V=(0,s.useCallback)(async e=>{let t=y(),n=(0,d.W)(t);n&&(p?.(),await b.editUserChatMessage(n,f,e))},[y,b,f,p]);return{author:N,removeOutdatedContentPreviewItems:p,handleConfirmationAction:E,handleRetryErrorMessage:O,handleRetryCopilotResponse:z,handleEditUserMessage:V,hasClientConfirmations:$,isCopilot:C,isUser:v,isAI:T,isAgentError:I,isError:k,isInterrupted:w,myRef:S,rendererConfig:P,renderFeedback:j,shouldShowMessageActions:U,skillExecutionToUseForRespondingText:L,showRetryButton:F}}},59220:(e,t,n)=>{n.d(t,{a:()=>o});var r=n(96540),a=n(44669),s=n(13468),i=n(99377);function o(e){let{streamingMessage:t,isWaitingOnCopilot:n,messages:o,selectedThreadID:l,pendingFirstMessage:c}=e,u=(0,r.useMemo)(()=>{let e={id:i.Wp,role:"assistant",content:"",createdAt:"",threadID:l||"",references:[],clientSide:!0,messageIndex:-1},r=(0,s.B)(o,c);return n?[...r,t??e]:r},[l,o,c,n,t]);return{messages:u,groupedMessages:(0,a.A)(u)}}},66889:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}},97785:(e,t,n)=>{n.d(t,{o:()=>u});var r=n(74848),a=n(21728),s=n(34164),i=n(96540);let o={chatImageAttachment:"ChatImage-module__chatImageAttachment--A31NV",squareView:"ChatImage-module__squareView--z0mEJ",fullView:"ChatImage-module__fullView--n3xkp",userAttachedImage:"ChatImage-module__userAttachedImage--fpKCB",overlay:"ChatImage-module__overlay--KqENn",overlayScreen:"ChatImage-module__overlayScreen--QlNhZ",expandIcon:"ChatImage-module__expandIcon--B0sBN"};function l(e){let t,n,s=(0,a.c)(5),{className:i,size:o}=e,l=o||14,c=o||14;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.672 5.342a.8.8 0 0 0 .05-.295V.805a.75.75 0 0 0-.75-.75H8.73a.75.75 0 0 0 0 1.5h2.433L8.138 4.577A.75.75 0 0 0 9.2 5.638l3.024-3.023v2.432a.75.75 0 0 0 1.45.295M.328 8.657a.8.8 0 0 0-.05.295v4.243a.75.75 0 0 0 .75.75h4.243a.75.75 0 0 0 0-1.5H2.838l3.024-3.023A.75.75 0 1 0 4.8 8.362l-3.024 3.023V8.952a.75.75 0 0 0-1.45-.295",clipRule:"evenodd"}),s[0]=t):t=s[0],s[1]!==i||s[2]!==l||s[3]!==c?(n=(0,r.jsx)("svg",{className:i,xmlns:"http://www.w3.org/2000/svg",width:l,height:c,fill:"none",viewBox:"0 0 14 14",role:"presentation",children:t}),s[1]=i,s[2]=l,s[3]=c,s[4]=n):n=s[4],n}try{l.displayName||(l.displayName="ExpandIcon")}catch{}let c=e=>{let t,n,c,u,d,m,h,g,p,f=(0,a.c)(25),{src:x,alt:y,onClick:b,useOverlay:_,mode:N,squareView:C}=e,[v,T]=(0,i.useState)(!1),I=C?o.squareView:o.fullView,k="assistive"===N;f[0]!==I||f[1]!==k?(t=(0,s.$)(o.chatImageAttachment,I,{assistive:k}),f[0]=I,f[1]=k,f[2]=t):t=f[2];let j=C?o.squareView:o.fullView;return f[3]!==j?(n=(0,s.$)(o.userAttachedImage,j),f[3]=j,f[4]=n):n=f[4],f[5]!==y||f[6]!==x||f[7]!==n?(c=(0,r.jsx)("img",{className:n,src:x,alt:y}),f[5]=y,f[6]=x,f[7]=n,f[8]=c):c=f[8],f[9]!==v||f[10]!==C?(u=(0,s.$)(o.overlay,{hovered:v,[o.squareView]:C}),f[9]=v,f[10]=C,f[11]=u):u=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(d=()=>T(!0),m=()=>T(!1),f[12]=d,f[13]=m):(d=f[12],m=f[13]),f[14]!==_?(h=_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:o.overlayScreen}),(0,r.jsx)(l,{className:o.expandIcon,size:20})]}),f[14]=_,f[15]=h):h=f[15],f[16]!==b||f[17]!==x||f[18]!==h||f[19]!==u?(g=(0,r.jsx)("a",{href:x,className:u,onClick:b,onMouseEnter:d,onMouseLeave:m,"aria-label":"Open image thumbnail",target:"_blank",rel:"noreferrer",children:h}),f[16]=b,f[17]=x,f[18]=h,f[19]=u,f[20]=g):g=f[20],f[21]!==g||f[22]!==t||f[23]!==c?(p=(0,r.jsxs)("div",{className:t,children:[c,g]}),f[21]=g,f[22]=t,f[23]=c,f[24]=p):p=f[24],p},u=(0,i.memo)(c);try{c.displayName||(c.displayName="ChatImageUnmemoized")}catch{}try{u.displayName||(u.displayName="ChatImage")}catch{}},44669:(e,t,n)=>{n.d(t,{A:()=>u,i:()=>c});var r=n(74848),a=n(21728),s=n(96679),i=n(96540),o=n(34901),l=n(40136);let c=e=>{let t,n,c,u,d=(0,a.c)(10),{isLastGroup:m,children:h}=e,{scrollContainerHeight:g,scrollToBottom:p}=(0,l.b)(),{threadHasNewMessages:f,pendingFirstMessage:x}=(0,o.Pk)(),y=m&&(f||x);if(d[0]!==y||d[1]!==p?(t=()=>{y&&p("smooth")},n=[y,p],d[0]=y,d[1]=p,d[2]=t,d[3]=n):(t=d[2],n=d[3]),(0,i.useEffect)(t,n),y)if(s.cg?.CSS?.supports("container-type: size")){let e;d[4]===Symbol.for("react.memo_cache_sentinel")?(e={minHeight:"100cqh"},d[4]=e):e=d[4],u=e}else{let e;d[5]!==g?(e={minHeight:g},d[5]=g,d[6]=e):e=d[6],u=e}return d[7]!==h||d[8]!==u?(c=(0,r.jsx)("div",{style:u,children:h}),d[7]=h,d[8]=u,d[9]=c):c=d[9],c};function u(e){return e.reduce((e,t)=>{let n=e.at(-1);return"assistant"===(n?.at(-1)?.role??"assistant")&&"user"===t.role?e.push([t]):n?.push(t),e},[])}try{c.displayName||(c.displayName="ChatMessagesGroup")}catch{}},7096:(e,t,n)=>{n.d(t,{t:()=>A,s:()=>$});var r,a=n(74848),s=n(38621),i=n(72010),o=n(38695),l=n(15385),c=n(34614),u=n(53110),d=n(34164),m=n(96540),h=n(22069),g=n(31971),p=n(34901),f=n(65011),x=n(30631),y=n(10569),b=n(47397),_=n(70066),N=n(53655);function C({reference:e}){let t,n=(0,p.Pk)(),r=(0,b.b)(),i=(0,m.useRef)(null),[o,c]=(0,m.useState)(!1),u=n?.mode??"assistive",{currentReferences:d}=n??{currentReferences:[]},f=(0,m.useMemo)(()=>d.map(e=>(0,h.Vb)(e)),[d]),C=(0,m.useMemo)(()=>(0,h.Vb)(e),[e]),v=(0,m.useMemo)(()=>"repo-instructions"===e.type,[e]),T=(0,m.useMemo)(()=>"org-instructions"===e.type,[e]),I=!v&&!T&&"web-search-result"!==e.type,k=(0,m.useMemo)(()=>v||T||f.includes(C),[v,T,f,C]),j=(0,m.useCallback)(t=>{t.stopPropagation(),k||r.addReference(e,"refMenu")},[r,e,k]),S=(0,h.JP)(e),w=(0,h.Xs)(S),$=(0,N.a_)(e,(0,h.P)(n?.currentTopic));if(g.W.newImmersiveReferencesUI)switch(e.type){case"file":case"snippet":{t=`${e.repoName}`;let n=e.path.lastIndexOf("/");-1!==n&&(t=`${t}/${e.path.substring(0,n)}`);break}case"web-search-result":t=new URL(e.url,window.location.origin).hostname.replace(/^www\./,"")}let M=(0,h.z$)(e);return(0,a.jsxs)(l.l.LinkItem,{href:S,rel:"noopener",sx:{wordBreak:"break-word",width:"100%"},className:"reference-action",target:"immersive"===u||"third-party"===e.type?"_blank":void 0,children:[$&&(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)($,{})}),(0,a.jsxs)(x.A,{title:M,maxWidth:"100%",className:g.W.newImmersiveReferencesUI?"text-semibold":void 0,children:[M,t&&(0,a.jsx)("span",{className:"color-fg-muted ml-2",children:t})]}),I&&(0,a.jsx)(l.l.TrailingAction,{onClick:()=>c(!0),icon:s.KebabHorizontalIcon,label:"More reference options",ref:i}),I&&(0,a.jsx)(y.W,{anchorRef:i,open:o,onOpenChange:c,children:(0,a.jsx)(_.UJ,{portalContainerName:_.Dq,children:(0,a.jsxs)(l.l,{children:[w&&("immersive"===u||["third-party","folder","repository","docset"].includes(e.type)?(0,a.jsxs)(l.l.LinkItem,{href:S,rel:"noopener",target:"_blank",children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(s.LinkIcon,{})}),"Open"]}):(0,a.jsxs)(l.l.Item,{onSelect:()=>{r.selectReference(e)},children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(s.LinkIcon,{})}),"Preview"]})),(0,a.jsxs)(l.l.Item,{onSelect:j,disabled:k,children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(s.PaperclipIcon,{})}),"Attach to chat"]})]})})})]})}try{C.displayName||(C.displayName="OutputReference")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}let v={referencesContainer:"ChatReferences-module__referencesContainer--Lxpin",referencesListImmersiveContainer:"ChatReferences-module__referencesListImmersiveContainer--iscAs",title:"ChatReferences-module__title--zwhMS",assistiveTitle:"ChatReferences-module__assistiveTitle--vngwU",Details:"ChatReferences-module__Details--IrWzZ",referenceTokensOuterContainer:"ChatReferences-module__referenceTokensOuterContainer--tFG8Q",referenceTokensContainer:"ChatReferences-module__referenceTokensContainer--PGYAF",chatMessageReferenceListFooter:"ChatReferences-module__chatMessageReferenceListFooter--nkt6v"};var T=n(21728),I=n(63867);let k={referenceToken:"FigmaChatReference-module__referenceToken--Qn1Il",name:"FigmaChatReference-module__name--fKkEE",content:"FigmaChatReference-module__content--X8uXy",thumbnail:"FigmaChatReference-module__thumbnail--PaX46",thumbnailHidden:"FigmaChatReference-module__thumbnailHidden--PBOGz",thumbnailOuter:"FigmaChatReference-module__thumbnailOuter--sO8P4",thumbnailLoading:"FigmaChatReference-module__thumbnailLoading--PKK05",figmaIconOuter:"FigmaChatReference-module__figmaIconOuter--dd0HF",figmaIcon:"FigmaChatReference-module__figmaIcon--iPM9K"};var j=n(39038);let S=(0,m.forwardRef)(function(e,t){let n,r,s,i,o,l,c,u,g,p,f=(0,T.c)(23);f[0]!==e?({reference:n,...r}=e,f[0]=e,f[1]=n,f[2]=r):(n=f[1],r=f[2]);let[x,y]=(0,m.useState)(!0);return f[3]!==n?(s=(0,h.JP)(n),f[3]=n,f[4]=s):s=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,d.$)(k.referenceToken),f[5]=i):i=f[5],f[6]!==n.thumbnailUrl||f[7]!==n.title||f[8]!==x?(o=n.thumbnailUrl&&(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsx)("span",{className:k.thumbnailLoading,children:(0,a.jsx)(I.A,{size:"medium"})}),(0,a.jsx)("img",{className:(0,d.$)(k.thumbnail,{[k.thumbnailHidden]:x}),src:n.thumbnailUrl,alt:`preview thumbnail for ${n.title}`,onLoad:()=>y(!1)})]}),f[6]=n.thumbnailUrl,f[7]=n.title,f[8]=x,f[9]=o):o=f[9],f[10]!==o?(l=(0,a.jsx)("span",{className:k.thumbnailOuter,children:o}),f[10]=o,f[11]=l):l=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("div",{className:k.figmaIconOuter,children:(0,a.jsx)(j._,{className:k.figmaIcon})}),f[12]=c):c=f[12],f[13]!==n?(u=(0,h.z$)(n),f[13]=n,f[14]=u):u=f[14],f[15]!==u?(g=(0,a.jsxs)("span",{className:k.content,children:[c,(0,a.jsx)("span",{className:k.name,children:u})]}),f[15]=u,f[16]=g):g=f[16],f[17]!==t||f[18]!==r||f[19]!==s||f[20]!==l||f[21]!==g?(p=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("a",{href:s,className:i,ref:t,target:"_blank",rel:"noreferrer",...r,children:[l,g]})}),f[17]=t,f[18]=r,f[19]=s,f[20]=l,f[21]=g,f[22]=p):p=f[22],p});try{S.displayName||(S.displayName="FigmaChatReference")}catch{}var w=n(5279);function $({references:e,onToggle:t,isImmersive:n,className:r}){let g=(0,p.Pk)(),f=(0,m.useMemo)(()=>(0,h.rT)(e),[e]),{getDetailsProps:x}=(0,i.A)({}),y=(0,m.useMemo)(()=>(0,h.P)(g?.currentTopic)&&f.every(M),[g?.currentTopic,f]),b=(0,m.useMemo)(()=>f.some(e=>"web-search-result"===e.type),[f]);if(0===f.length)return null;let _=y&&g?.currentTopic?.name?`Search results from ${g.currentTopic.name}`:`${f.length} ${1===f.length?"reference":"references"}`;return(0,a.jsxs)(o.A,{...x(),onToggle:t,className:(0,d.$)(r,v.Details),children:[(0,a.jsxs)("summary",{className:(0,d.$)(v.referencesContainer),children:[(0,a.jsx)("span",{className:(0,d.$)(v.title,n?"":v.assistiveTitle),children:_}),(0,a.jsx)(u.A,{icon:s.ChevronDownIcon,className:"references-chevron-down",sx:{color:"fg.muted"}}),(0,a.jsx)(u.A,{icon:s.ChevronUpIcon,sx:{display:"none !important",color:"fg.muted"},className:"references-chevron-up"})]}),(0,a.jsxs)(l.l,{sx:{mt:2,mx:"-1rem",p:1},className:(0,d.$)(n&&v.referencesListImmersiveContainer),children:[f.map(e=>(0,a.jsx)(C,{reference:e},(0,h.Vb)(e))),b&&(0,a.jsxs)("div",{className:v.chatMessageReferenceListFooter,children:["Copilot used the"," ",(0,a.jsx)(c.A,{inline:!0,href:"https://gh.io/azure-ai-agent-with-bing-grounding",target:"_blank",rel:"noopener noreferrer",children:"Bing Search"})," ","tool."," ",(0,a.jsx)(c.A,{inline:!0,href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})]})]})]})}function M(e){return"snippet"===e.type&&!!e.languageName&&f.Yr.has(e.languageName)}function A({references:e,message:t,className:n,size:r,onClickReference:s,getReferenceVersion:i}){let{bigReferences:o,smallReferences:l}=(0,m.useMemo)(()=>(function(e){let t=(0,h.rT)(e),n=[],r=[];for(let e of t)R.has(e.type)?n.push(e):r.push(e);return{bigReferences:n,smallReferences:r}})(e),[e]),c=e=>"figma"===e.type&&g.W.immersiveFigmaIntegration?(0,a.jsx)(S,{reference:e,onClick:t=>s?.(e,t)},(0,h.Vb)(e)):(0,a.jsx)(N.BR,{message:t,reference:e,size:r,onClick:(t,n)=>s?.(e,n),getReferenceVersion:i},(0,h.Vb)(e));return(0,a.jsxs)(w.M,{"aria-label":"Attachments",className:(0,d.$)(v.referenceTokensOuterContainer,n),children:[o.map(c),(0,a.jsx)("div",{className:v.referenceTokensContainer,children:l.map(c)})]})}let R=new Set(["figma","image"]);try{$.displayName||($.displayName="ChatMessageReferencesList")}catch{}try{A.displayName||(A.displayName="ChatMessageReferenceTokens")}catch{}try{R.displayName||(R.displayName="BIG_REFERENCE_TYPES")}catch{}},40136:(e,t,n)=>{n.d(t,{$:()=>u,b:()=>d});var r=n(74848),a=n(21728),s=n(81425),i=n(34164),o=n(96540);let l={container:"ChatScrollContainer-module__container--b73rS"},c=(0,o.createContext)(null);function u(e){let t,n,u,d,m,h,g,p,f,x,y,b,_,N,C,v=(0,a.c)(30);v[0]!==e?({children:n,disabled:u,containerRef:t,...d}=e,v[0]=e,v[1]=t,v[2]=n,v[3]=u,v[4]=d):(t=v[1],n=v[2],u=v[3],d=v[4]);let T=(0,s.L)(t),I=(0,o.useRef)(null),[k,j]=(0,o.useState)(!1);v[5]!==T.current?(m=()=>{let e=new IntersectionObserver(e=>{let[t]=e;return j(!t?.isIntersecting)},{root:T.current,threshold:0,rootMargin:"50px"});return e.observe(I.current),()=>e.disconnect()},v[5]=T.current,v[6]=m):m=v[6],v[7]!==T?(h=[T],v[7]=T,v[8]=h):h=v[8],(0,o.useEffect)(m,h);let[S,w]=(0,o.useState)();v[9]!==T.current?(g=()=>{let e=()=>{if(!T.current)return;let e=getComputedStyle(T.current);w(`calc(${T.current.clientHeight}px - ${e.paddingTop} - ${e.paddingBottom})`)},t=new ResizeObserver(e);return e(),t.observe(T.current),()=>t.disconnect()},v[9]=T.current,v[10]=g):g=v[10],v[11]!==T?(p=[T],v[11]=T,v[12]=p):p=v[12],(0,o.useEffect)(g,p),v[13]!==u?(f=e=>{u||I.current?.scrollIntoView({behavior:e,block:"end"})},v[13]=u,v[14]=f):f=v[14];let $=f;return v[15]!==k||v[16]!==S||v[17]!==$?(y={isScrolledUp:k,scrollToBottom:$,scrollContainerHeight:S},v[15]=k,v[16]=S,v[17]=$,v[18]=y):y=v[18],x=y,v[19]!==d.className?(b=(0,i.$)(l.container,d.className),v[19]=d.className,v[20]=b):b=v[20],v[21]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsx)("div",{ref:I,style:{height:"1px",marginTop:"-1px"}}),v[21]=_):_=v[21],v[22]!==n||v[23]!==T||v[24]!==d||v[25]!==b?(N=(0,r.jsxs)("div",{ref:T,...d,className:b,children:[n,_]}),v[22]=n,v[23]=T,v[24]=d,v[25]=b,v[26]=N):N=v[26],v[27]!==x||v[28]!==N?(C=(0,r.jsx)(c.Provider,{value:x,children:N}),v[27]=x,v[28]=N,v[29]=C):C=v[29],C}let d=()=>{let e=(0,o.useContext)(c);if(!e)throw Error("useChatScroll may only be called in a descendant of ChatScrollContainer");return e};try{c.displayName||(c.displayName="ChatScrollContext")}catch{}try{u.displayName||(u.displayName="ChatScrollContainer")}catch{}},8387:(e,t,n)=>{n.d(t,{m:()=>d});var r=n(74848),a=n(21728),s=n(84217),i=n(75177),o=n(55847),l=n(52464),c=n(96540),u=n(34901);function d(e){let t,n,l,d,h,g,p,f,x=(0,a.c)(21),{confirmation:y,handleConfirmation:b,isLatestMessage:_}=e,N=(0,u.Pk)();if(x[0]!==y.confirmation||x[1]!==N.allClientConfirmations){let e=JSON.stringify(Object.values(y.confirmation).sort());t=N.allClientConfirmations?.includes(e),x[0]=y.confirmation,x[1]=N.allClientConfirmations,x[2]=t}else t=x[2];let C=t,[v,T]=(0,c.useState)(C&&!_);x[3]!==y.confirmation||x[4]!==y.onSubmit||x[5]!==y.title||x[6]!==b?(n=e=>{T(!0),b({state:e,confirmation:y.confirmation},y.title,y.onSubmit)},x[3]=y.confirmation,x[4]=y.onSubmit,x[5]=y.title,x[6]=b,x[7]=n):n=x[7];let I=n;return x[8]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"column",p:3,marginTop:3},x[8]=l):l=x[8],x[9]===Symbol.for("react.memo_cache_sentinel")?(d={mb:1,fontSize:1,lineHeight:"condensed"},x[9]=d):d=x[9],x[10]!==y.title?(h=(0,r.jsx)(s.A,{as:"h3",sx:d,children:y.title}),x[10]=y.title,x[11]=h):h=x[11],x[12]!==y.message?(g=y.message.split(`
`).map(m),x[12]=y.message,x[13]=g):g=x[13],x[14]!==v||x[15]!==I?(p=!v&&(0,r.jsxs)(i.A,{sx:{display:"flex",justifyContent:"flex-start",gap:2,mt:3},children:[(0,r.jsx)(o.Q,{variant:"primary",onClick:()=>I("accepted"),children:"Allow"}),(0,r.jsx)(o.Q,{onClick:()=>I("dismissed"),children:"Dismiss"})]}),x[14]=v,x[15]=I,x[16]=p):p=x[16],x[17]!==h||x[18]!==g||x[19]!==p?(f=(0,r.jsxs)(i.A,{className:"border rounded-2",sx:l,children:[h,g,p]}),x[17]=h,x[18]=g,x[19]=p,x[20]=f):f=x[20],f}function m(e){return(0,r.jsx)(l.A,{as:"p",sx:{color:"fg.muted",mb:0},children:e},e)}try{d.displayName||(d.displayName="Confirmation")}catch{}},45064:(e,t,n)=>{n.d(t,{W:()=>g});var r=n(74848),a=n(21728),s=n(50539),i=n(75177),o=n(34164),l=n(96540);let c={copilotBadge:"CopilotBadgeV2-module__copilotBadge--OJjfk",loading:"CopilotBadgeV2-module__loading--NG3DO",animation:"CopilotBadgeV2-module__animation--cRY_E",assistive:"CopilotBadgeV2-module__assistive--aZiUP"},u=[s.L.Tickle,s.L.Celebrate,s.L.JumpWiggle],d=["yes","absolutely","certainly","sure","definitely","right","correct","indeed","precisely","exactly","true","affirmative","agree","agreed"],m=["no","never","negative","wrong","false","untrue","cannot","can't","sorry","incorrect","deny","disagree","refuse","unfortunately"];function h(e){let t=new Date(e);return(new Date().getTime()-t.getTime())/1e3/60<.5}function g(e){let t,n,g,f,x,y,b,_,N,C,v,T=(0,a.c)(38),{isFirstMessage:I,isLoading:k,isLoadingSkills:j,isError:S,className:w,mode:$,message:M,createdAt:A}=e,R=void 0!==I&&I;T[0]!==A||T[1]!==R?(t=()=>({animationType:R&&(!A||h(A))?s.L.Celebrate:s.L.Static,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!1}),T[0]=A,T[1]=R,T[2]=t):t=T[2];let[L,B]=(0,l.useState)(t);T[3]!==A||T[4]!==S||T[5]!==k||T[6]!==j||T[7]!==M?(n=()=>{h(A)&&B(e=>(function({previousState:e,isLoadingSkills:t,isAffirmativeSentiment:n,isNegativeSentiment:r,isError:a,isLoading:i}){switch(e.animationType){case s.L.Static:if((n||r)&&!a&&!e.hasLoadedMessage)return{animationType:n?s.L.Affirmative:s.L.Negative,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(t)return{...e,animationType:s.L.Thinking,loopAnimation:!0};if(!i&&!e.hasLoadedMessage&&!a)return{animationType:s.L.Confirm,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(a&&!e.hasLoadedMessage)return{animationType:s.L.Negative,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!0};return e;case s.L.Thinking:if(!t)return{...e,animationType:a?s.L.Negative:s.L.Static,loopAnimation:!1};return e;default:return e}})({previousState:e,isLoadingSkills:j||!1,isError:S||!1,isLoading:k||!1,isAffirmativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return d.some(e=>t.includes(e.toLowerCase()))}return!1}(M),isNegativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return m.some(e=>t.includes(e.toLowerCase()))}return!1}(M)}))},T[3]=A,T[4]=S,T[5]=k,T[6]=j,T[7]=M,T[8]=n):n=T[8],T[9]!==L.animationType||T[10]!==L.hasLoadedMessage||T[11]!==A||T[12]!==S||T[13]!==R||T[14]!==k||T[15]!==j||T[16]!==M?(g=[j,S,k,L.animationType,L.hasLoadedMessage,R,M,A],T[9]=L.animationType,T[10]=L.hasLoadedMessage,T[11]=A,T[12]=S,T[13]=R,T[14]=k,T[15]=j,T[16]=M,T[17]=g):g=T[17],(0,l.useEffect)(n,g),T[18]!==L||T[19]!==k?(f=()=>{k||B({...L,animationType:u[Math.floor(Math.random()*u.length)],onFinish:s.L.Static,loopAnimation:!1})},T[18]=L,T[19]=k,T[20]=f):f=T[20];let F=f,P=k&&c.loading;T[21]!==w||T[22]!==P?(x=(0,o.$)(c.copilotBadge,P,w),T[21]=w,T[22]=P,T[23]=x):x=T[23],T[24]===Symbol.for("react.memo_cache_sentinel")?(y={":hover":{cursor:"pointer"}},T[24]=y):y=T[24];let U=L.animationType;T[25]===Symbol.for("react.memo_cache_sentinel")?(b=()=>B(p),T[25]=b):b=T[25];let D=L.loopAnimation,E="assistive"===$&&c.assistive;return T[26]!==E?(_=(0,o.$)(c.animation,E),T[26]=E,T[27]=_):_=T[27],T[28]!==L.animationType||T[29]!==L.loopAnimation||T[30]!==_?(N=(0,r.jsx)(s.N,{animationType:U,onAnimationEnd:b,loopAnimation:D,className:_}),T[28]=L.animationType,T[29]=L.loopAnimation,T[30]=_,T[31]=N):N=T[31],T[32]!==F||T[33]!==N?(C=(0,r.jsx)(i.A,{sx:y,onClick:F,children:N}),T[32]=F,T[33]=N,T[34]=C):C=T[34],T[35]!==C||T[36]!==x?(v=(0,r.jsx)("div",{className:x,"aria-label":"Copilot badge",role:"img",children:C}),T[35]=C,T[36]=x,T[37]=v):v=T[37],v}function p(e){return{...e,animationType:e.onFinish}}try{g.displayName||(g.displayName="CopilotBadge")}catch{}},56521:(e,t,n)=>{n.d(t,{K:()=>x,h:()=>b});var r=n(74848),a=n(21728),s=n(91936),i=n(98386),o=n(38621),l=n(87330),c=n(55847),u=n(95726),d=n(34164),m=n(96540),h=n(22069),g=n(66889),p=n(79929),f=n(83880);function x(e){let t=(0,a.c)(8),{manager:n}=e,{message:s}=(0,f.V)(),{error:o}=s;if(!o)return null;switch(o.type){case"agentUnauthorized":{let e;return t[0]!==o||t[1]!==n?(e=(0,r.jsx)(y,{error:o,manager:n}),t[0]=o,t[1]=n,t[2]=e):e=t[2],e}case"agentRequest":{let e;return t[3]!==o.details?(e=(0,r.jsx)(b,{errors:[o.details]}),t[3]=o.details,t[4]=e):e=t[4],e}default:{let e,n;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.G)("error-message-banner"),t[5]=e):e=t[5];let a=o.message||"Something went wrong";return t[6]!==a?(n=(0,r.jsx)(u.l,{...e,title:"Error",hideTitle:!0,description:a,variant:"warning"}),t[6]=a,t[7]=n):n=t[7],n}}}function y(e){let t,n,s,u,g,f,x,y,b,_,N,C=(0,a.c)(25),{error:v,manager:T}=e,{details:I}=v,[k,j]=(0,m.useState)(!1);C[0]!==I.name||C[1]!==T?(t=()=>{j(!0),T.dispatch({type:"MESSAGE_ADDED",message:(0,h.Y6)({role:"user",content:`Dismissed the connection with ${I.name}.`,mediaContent:[],parentMessageID:T.FindLastMessageID()})}),T.dispatch({type:"MESSAGE_ADDED",message:(0,h.Y6)({role:"assistant",content:`I was unable to connect you to ${I.name} because you cancelled the authentication.`,mediaContent:[],parentMessageID:T.FindLastMessageID()})})},C[0]=I.name,C[1]=T,C[2]=t):t=C[2];let S=t;C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.G)("agent-unauthorized-error"),C[3]=n):n=C[3],C[4]!==k||C[5]!==S?(s=!k&&(0,r.jsx)(l.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:o.XIcon,onClick:S,variant:"invisible",unsafeDisableTooltip:!0}),C[4]=k,C[5]=S,C[6]=s):s=C[6],C[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)(o.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),g=(0,r.jsx)(o.LinkIcon,{className:"fgColor-muted"}),f=(0,d.$)("avatar",p.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),C[7]=u,C[8]=g,C[9]=f):(u=C[7],g=C[8],f=C[9]);let w=`icon for ${I.name}`;return C[10]!==I.avatar_url||C[11]!==w?(x=(0,r.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[u,g,(0,r.jsx)("img",{className:f,src:I.avatar_url,alt:w})]}),C[10]=I.avatar_url,C[11]=w,C[12]=x):x=C[12],C[13]!==I.name?(b=(0,r.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",I.name]}),y=(0,r.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",I.name," extension, you\u2019ll need to connect your GitHub account to your ",I.name," account."]}),C[13]=I.name,C[14]=y,C[15]=b):(y=C[14],b=C[15]),C[16]!==I.authorize_url||C[17]!==k?(_=!k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:I.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,r.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",I.authorize_url]})]}),C[16]=I.authorize_url,C[17]=k,C[18]=_):_=C[18],C[19]!==y||C[20]!==_||C[21]!==s||C[22]!==x||C[23]!==b?(N=(0,r.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",...n,children:[s,x,b,y,_]}),C[19]=y,C[20]=_,C[21]=s,C[22]=x,C[23]=b,C[24]=N):N=C[24],N}function b(e){let t,n,s=(0,a.c)(4),{errors:i}=e;return s[0]!==i?(t=i.map(_),s[0]=i,s[1]=t):t=s[1],s[2]!==t?(n=(0,r.jsx)("div",{className:"d-flex flex-column gap-2",children:t}),s[2]=t,s[3]=n):n=s[3],n}function _(e,t){var n;return(0,r.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,r.jsxs)("div",{className:"text-bold",children:[(0,r.jsx)(o.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===(n=e).type?`${n.code} ${n.identifier}`:`${(0,g.Z)(n.type)} error`]}),(0,r.jsx)(s.To,{markdown:e.message})]},t)}try{x.displayName||(x.displayName="ErrorMessage")}catch{}try{y.displayName||(y.displayName="AgentUnauthorizedError")}catch{}try{b.displayName||(b.displayName="AgentErrors")}catch{}},40509:(e,t,n)=>{n.d(t,{G:()=>y});var r=n(74848),a=n(21728),s=n(38621),i=n(87330),o=n(96540),l=n(34901),c=n(47397),u=n(83880),d=n(13455),m=n(31971),h=n(74244),g=n(69458);let p={thumbsUp:"MessageFeedbackDialog-module__thumbsUp--L1svG",thumbsDown:"MessageFeedbackDialog-module__thumbsDown--xdoe9"},f=[{name:"Bad",value:"NEGATIVE",icon:(0,r.jsx)(s.ThumbsdownIcon,{className:p.thumbsDown}),color:"bad"},{name:"Good",value:"POSITIVE",icon:(0,r.jsx)(s.ThumbsupIcon,{className:p.thumbsUp}),color:"good"}],x=(0,o.forwardRef)(function({messageId:e,threadId:t,returnFocusRef:n,onSubmitted:a,onClose:s},i){let l=(0,c.b)(),u=(0,o.useRef)(null),p=(0,o.useRef)(null),x=(0,o.useRef)(void 0);(0,o.useImperativeHandle)(i,()=>({openDialog:e=>{x.current=e,m.W.copilotChatInterviewSurvey?u.current?.openDialog():p.current?.openDialog(e)}}));let y=async(n,r)=>{let s=[];if(null==n&&s.push("Please select a rating."),r.length>500&&s.push("Please keep your feedback within 500 characters or less."),s.length>0)return s;try{(await l.service.sendFeedback({feedback:n,feedbackChoice:[],messageId:e,threadId:t,textResponse:r})).ok?a?.(n):s.push("An error occurred while submitting your feedback.")}catch{s.push("An error occurred while submitting your feedback.")}return s};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.E,{ref:u,title:"Give additional feedback",onClose:e=>{"no-thanks"===e?p.current?.openDialog(x.current):s?.()}}),(0,r.jsx)(d.NE,{title:"Give additional feedback",ref:p,options:f,onSubmit:y,onClose:s,requestID:h.J.getRequestID(e),returnFocusRef:n})]})});function y(e){let t,n,d,m,h,g=(0,a.c)(20),{iconSize:p}=e,{message:f}=(0,u.V)(),y=f.id,b=f.threadID,_=(0,c.b)(),N=(0,o.useRef)(null),C=(0,o.useRef)(null);g[0]!==_||g[1]!==f?(t=e=>{_.handleFeedback(f,e)},g[0]=_,g[1]=f,g[2]=t):t=g[2];let v=t,{optedInToUserFeedback:T}=(0,l.Pk)();g[3]!==_.service||g[4]!==y||g[5]!==v||g[6]!==T||g[7]!==b?(n=e=>{_.service.sendFeedback({feedback:e,messageId:y,threadId:b}),v(e),T?N.current?.openDialog(e):C.current?.focus()},g[3]=_.service,g[4]=y,g[5]=v,g[6]=T,g[7]=b,g[8]=n):n=g[8];let I=n;return g[9]!==p||g[10]!==f.feedback||g[11]!==I?(d=null!=f.feedback?(0,r.jsx)(i.K,{ref:C,"aria-label":`${f.feedback.toLocaleLowerCase()} feedback submitted`,icon:"POSITIVE"===f.feedback?s.ThumbsupIcon:s.ThumbsdownIcon,variant:"invisible",size:p,"aria-disabled":!0,sx:{color:"fg.default",bg:"canvas.subtle"}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.K,{icon:s.ThumbsupIcon,"aria-label":"Good response",onClick:()=>I("POSITIVE"),variant:"invisible",size:p}),(0,r.jsx)(i.K,{icon:s.ThumbsdownIcon,size:p,"aria-label":"Bad response",onClick:()=>I("NEGATIVE"),variant:"invisible"})]}),g[9]=p,g[10]=f.feedback,g[11]=I,g[12]=d):d=g[12],g[13]!==y||g[14]!==v||g[15]!==b?(m=(0,r.jsx)(x,{ref:N,messageId:y,threadId:b,onSubmitted:v,returnFocusRef:C}),g[13]=y,g[14]=v,g[15]=b,g[16]=m):m=g[16],g[17]!==d||g[18]!==m?(h=(0,r.jsxs)(r.Fragment,{children:[d,m]}),g[17]=d,g[18]=m,g[19]=h):h=g[19],h}x.displayName="MessageFeedbackDialog";try{y.displayName||(y.displayName="Feedback")}catch{}},57531:(e,t,n)=>{n.d(t,{WA:()=>ev,BO:()=>eC});var r=n(74848),a=n(21728),s=n(59706),i=n(38621),o=n(30631),l=n(84217),c=n(52464),u=n(75177),d=n(99377),m=n(31971),h=n(74244),g=n(34614),p=n(63867),f=n(55847),x=n(15385),y=n(53110),b=n(96540),_=n(22069),N=n(34901);let C={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--nLEFp",functionLoading:"FunctionLoadingUtils-module__functionLoading--ksfrz",spinner:"FunctionLoadingUtils-module__spinner--dWC1I",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--RThXV",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--p5oMB",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--P1oyO",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--xNrSv"};function v(e){let t,n,s=(0,a.c)(8),{chatManager:i,functionCall:o,skillArgs:l}=e,c=l.query;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(g.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),s[0]=t):t=s[0];let u=`An error occurred when searching for \u{201C}${c}\u{201D}`,d=`Searching the web for \u{201C}${c}\u{201D}`,m=`No web search results for \u{201C}${c}\u{201D} were found`,h=`Using web search results for \u{201C}${c}\u{201D}`;return s[1]!==i||s[2]!==o||s[3]!==u||s[4]!==d||s[5]!==m||s[6]!==h?(n=(0,r.jsx)(J,{additionalFooterContent:t,chatManager:i,errorButtonText:u,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:o,inProgressMessage:d,noResultsMessage:m,resultsMapper:T,successButtonText:h,useSelectReference:!1}),s[1]=i,s[2]=o,s[3]=u,s[4]=d,s[5]=m,s[6]=h,s[7]=n):n=s[7],n}function T(e){return(e.references?.[0]?.results??[]).map(I)}function I(e){return{title:e.title,url:e.url,description:e.excerpt,leadingIcon:i.GlobeIcon}}function k(e){let t,n,s=(0,a.c)(8),{chatManager:i,functionCall:o,skillArgs:l}=e,c=l.query;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(g.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),s[0]=t):t=s[0];let u=`An error occurred when searching for \u{201C}${c}\u{201D}`,d=`Searching the web for \u{201C}${c}\u{201D}`,m=`No web search results for \u{201C}${c}\u{201D} were found`,h=`Using web search results for \u{201C}${c}\u{201D}`;return s[1]!==i||s[2]!==o||s[3]!==u||s[4]!==d||s[5]!==m||s[6]!==h?(n=(0,r.jsx)(J,{additionalFooterContent:t,chatManager:i,errorButtonText:u,errorTitle:"An error occurred when searching the web",toolLink:"https://gh.io/azure-ai-agent-with-bing-grounding",toolName:"Bing Search",functionCall:o,inProgressMessage:d,noResultsMessage:m,resultsMapper:j,successButtonText:h,useSelectReference:!1}),s[1]=i,s[2]=o,s[3]=u,s[4]=d,s[5]=m,s[6]=h,s[7]=n):n=s[7],n}function j(e){let t=e.references?.[0];return(t?.results??[]).map(e=>({title:e.title,url:e.url,leadingIcon:"bing_search"===e.reference_type?s._:i.GlobeIcon}))}function S(e){var t;let n,s=(0,a.c)(9),{chatManager:i,functionCall:o,skillArgs:l,useSelectReference:c}=e,u=l.query,d="scopingQuery"in l?l.scopingQuery:l.repoOwner&&l.repoName?`repo:${l.repoOwner}/${l.repoName}`:void 0;d&&(d=(t=d).startsWith("repo:")?t.substring(5):t);let m="semantic-code-search"===l.kind?"semantic":"lexical",h=`An error occurred when searching for \u{201C}${u}\u{201D}`,g=`${m.charAt(0).toUpperCase()+m.slice(1)} search`,p=`Searching for \u{201C}${u}\u{201D}${d&&` in ${d}`}`,f=`No results were found when ${m} searching for \u{201C}${u}\u{201D}${d&&` in ${d}`}`,x=`Using ${m} search results for \u{201C}${u}\u{201D}${d&&` in ${d}`}`;return s[0]!==i||s[1]!==o||s[2]!==h||s[3]!==g||s[4]!==p||s[5]!==f||s[6]!==x||s[7]!==c?(n=(0,r.jsx)(J,{chatManager:i,errorButtonText:h,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:g,functionCall:o,inProgressMessage:p,noResultsMessage:f,resultsMapper:ei,successButtonText:x,useSelectReference:c}),s[0]=i,s[1]=o,s[2]=h,s[3]=g,s[4]=p,s[5]=f,s[6]=x,s[7]=c,s[8]=n):n=s[8],n}function w(e){let t,n=(0,a.c)(8),{chatManager:s,functionCall:i,skillArgs:o,useSelectReference:l}=e,c=o.query,u=o.kbID,{knowledgeBases:d}=(0,N.Pk)(),m=d.find(e=>e.id===u),h=m?.name??"the knowledge base",g=`An error occurred when searching for \u{201C}${c}\u{201D} in ${h}`,p=`Searching the ${h} knowledge base for \u{201C}${c}\u{201D}`,f=`No results were found when searching the ${h} knowledge base for \u{201C}${c}\u{201D}`,x=`Using search results from the ${h} knowledge base for \u{201C}${c}\u{201D}`;return n[0]!==s||n[1]!==i||n[2]!==g||n[3]!==p||n[4]!==f||n[5]!==x||n[6]!==l?(t=(0,r.jsx)(J,{chatManager:s,errorButtonText:g,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:i,inProgressMessage:p,noResultsMessage:f,resultsMapper:ei,successButtonText:x,useSelectReference:l}),n[0]=s,n[1]=i,n[2]=g,n[3]=p,n[4]=f,n[5]=x,n[6]=l,n[7]=t):t=n[7],t}function $(e){let t,n,s,i,o,l=(0,a.c)(20),{chatManager:c,functionCall:u,skillArgs:d,useSelectReference:m}=e,{path:h,repo:g,ref:p}=d,f=`An error occurred when finding \u{201C}${h}\u{201D} in ${g}`;l[0]!==p||l[1]!==f?(t=L(f,p),l[0]=p,l[1]=f,l[2]=t):t=l[2];let x=`File results for \u{201C}${h}\u{201D} in ${g}`;l[3]!==p||l[4]!==x?(n=L(x,p),l[3]=p,l[4]=x,l[5]=n):n=l[5];let y=`No files matching \u{201C}${h}\u{201D} in ${g} were found`;l[6]!==p||l[7]!==y?(s=L(y,p),l[6]=p,l[7]=y,l[8]=s):s=l[8];let b=`Using results for \u{201C}${h}\u{201D} in ${g}`;return l[9]!==p||l[10]!==b?(i=L(b,p),l[9]=p,l[10]=b,l[11]=i):i=l[11],l[12]!==c||l[13]!==u||l[14]!==t||l[15]!==n||l[16]!==s||l[17]!==i||l[18]!==m?(o=(0,r.jsx)(J,{chatManager:c,errorButtonText:t,errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:u,inProgressMessage:n,noResultsMessage:s,resultsMapper:M,successButtonText:i,useSelectReference:m}),l[12]=c,l[13]=u,l[14]=t,l[15]=n,l[16]=s,l[17]=i,l[18]=m,l[19]=o):o=l[19],o}function M(e){return(e.references??[]).map(A)}function A(e){return"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:i.FileIcon,reference:e,title:(0,_.Xo)(e),url:e.url}:void 0}function R(e){let t,n,s,o,l,c,u=(0,a.c)(23),{chatManager:d,functionCall:m,skillArgs:h,useSelectReference:g}=e,{path:p,repo:f,ref:x}=h,y=`An error occurred when finding file changes for \u{201C}${p}\u{201D} in ${f}`;u[0]!==x||u[1]!==y?(t=L(y,x),u[0]=x,u[1]=y,u[2]=t):t=u[2];let b=`File changes results for \u{201C}${p} in ${f}`;u[3]!==x||u[4]!==b?(n=L(b,x),u[3]=x,u[4]=b,u[5]=n):n=u[5];let N=`No files changes were found for \u{201C}${p}\u{201D} in ${f}`;u[6]!==x||u[7]!==N?(s=L(N,x),u[6]=x,u[7]=N,u[8]=s):s=u[8],u[9]!==p?(o=e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${p}`,leadingIcon:i.FileIcon,reference:e,title:(0,_.Xo)(e),url:e.url}:void 0),u[9]=p,u[10]=o):o=u[10];let C=`Using results for \u{201C}${p}\u{201D} in ${f}`;return u[11]!==x||u[12]!==C?(l=L(C,x),u[11]=x,u[12]=C,u[13]=l):l=u[13],u[14]!==d||u[15]!==m||u[16]!==t||u[17]!==n||u[18]!==s||u[19]!==o||u[20]!==l||u[21]!==g?(c=(0,r.jsx)(J,{chatManager:d,errorButtonText:t,errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:m,inProgressMessage:n,noResultsMessage:s,resultsMapper:o,successButtonText:l,useSelectReference:g}),u[14]=d,u[15]=m,u[16]=t,u[17]=n,u[18]=s,u[19]=o,u[20]=l,u[21]=g,u[22]=c):c=u[22],c}let L=(e,t)=>t?`${e} on ref ${t}`:e;function B(e){let t,n=(0,a.c)(5),{chatManager:s,functionCall:i,skillArgs:o,useSelectReference:l}=e,c=`An error occurred when fetching alert information for ${o.url}`;return n[0]!==s||n[1]!==i||n[2]!==c||n[3]!==l?(t=(0,r.jsx)(J,{chatManager:s,errorButtonText:c,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:i,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:F,successButtonText:"Using alert information",useSelectReference:l}),n[0]=s,n[1]=i,n[2]=c,n[3]=l,n[4]=t):t=n[4],t}function F(e){return(e.references??[]).map(P)}function P(e){return"alert.api"===e.type?{description:"Alert",leadingIcon:U,title:"Alert"}:void 0}function U(){return(0,r.jsx)(i.ShieldIcon,{})}function D(e){let t,n=(0,a.c)(7),{chatManager:s,functionCall:i,skillArgs:o,useSelectReference:l}=e,c=`Fetching discussion ${o.discussionNumber}`,u=`Unable to fetch discussion ${o.discussionNumber}`,d=`Using discussion #${o.discussionNumber}`;return n[0]!==s||n[1]!==i||n[2]!==c||n[3]!==u||n[4]!==d||n[5]!==l?(t=(0,r.jsx)(J,{chatManager:s,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:i,inProgressMessage:c,noResultsMessage:u,resultsMapper:E,successButtonText:d,useSelectReference:l}),n[0]=s,n[1]=i,n[2]=c,n[3]=u,n[4]=d,n[5]=l,n[6]=t):t=n[6],t}function E(e){return(e.references??[]).map(G)}function G(e){return"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:i.CommentDiscussionIcon}:void 0}function O(e){let t,n,s=(0,a.c)(3),{children:i}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("span",{className:C.spinner,children:(0,r.jsx)(p.A,{size:"small"})}),s[0]=t):t=s[0],s[1]!==i?(n=(0,r.jsxs)("div",{className:C.functionLoading,children:[t,(0,r.jsx)("span",{children:i})]}),s[1]=i,s[2]=n):n=s[2],n}function z(e){let t=(0,a.c)(1),{functionCall:n}=e,{status:s}=n;if("started"===s){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(O,{children:"Coming up with a plan"}),t[0]=e):e=t[0],e}}function V(e){let t,n=(0,a.c)(8),{chatManager:s,functionCall:i,skillArgs:o,useSelectReference:l}=e,c=K(o),u=`An error occurred when fetching logs for ${c} in ${o.repo}`,d=`Fetching logs for ${c} in ${o.repo}`,m=`Unable to fetch logs for ${c} in ${o.repo}`,h=`Using logs for ${c} in ${o.repo}`;return n[0]!==s||n[1]!==i||n[2]!==u||n[3]!==d||n[4]!==m||n[5]!==h||n[6]!==l?(t=(0,r.jsx)(J,{chatManager:s,errorButtonText:u,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:i,inProgressMessage:d,noResultsMessage:m,resultsMapper:q,successButtonText:h,useSelectReference:l}),n[0]=s,n[1]=i,n[2]=u,n[3]=d,n[4]=m,n[5]=h,n[6]=l,n[7]=t):t=n[7],t}function q(e){return(e.references??[]).filter(W).map(H)}function H(e){return{description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:i.PlayIcon,title:"Job"}}function W(e){return"job"===e.type}function K(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function J(e){let t,n,s=(0,a.c)(27),{additionalFooterContent:l,chatManager:c,errorButtonText:u,errorTitle:d,functionCall:m,inProgressMessage:h,noResultsMessage:g,resultsMapper:p,successButtonText:_,toolLink:N,toolName:v,useSelectReference:T}=e,[I,k]=(0,b.useState)(!1),j=(0,b.useId)();if(s[0]!==l||s[1]!==c||s[2]!==j||s[3]!==u||s[4]!==d||s[5]!==I||s[6]!==m||s[7]!==h||s[8]!==g||s[9]!==p||s[10]!==_||s[11]!==N||s[12]!==v||s[13]!==T){n=Symbol.for("react.early_return_sentinel");e:{let e,a,b,S,w=p(m),{status:$,errorMessage:M}=m;if(m.references?.length===1){let e=m.references[0];if(e)switch(e.type){case"text":$="error",M=e.text;break;case"unsupported":$="unsupported",M=e.text}}if("started"===$){let e;s[16]!==h?(e=(0,r.jsx)(O,{children:h}),s[16]=h,s[17]=e):e=s[17],n=e;break e}let A=I?i.ChevronUpIcon:i.ChevronDownIcon;s[18]===Symbol.for("react.memo_cache_sentinel")?(e=()=>k(Q),s[18]=e):e=s[18],s[19]===Symbol.for("react.memo_cache_sentinel")?(a={marginBottom:1},s[19]=a):a=s[19];let R="error"===$?u:"unsupported"===$?g:_;s[20]!==R?(b=(0,r.jsx)("span",{className:C.functionReferenceButtonContents,children:R}),s[20]=R,s[21]=b):b=s[21],s[22]!==j||s[23]!==I||s[24]!==A||s[25]!==b?(S=(0,r.jsx)(f.Q,{"aria-expanded":I,"aria-controls":j,className:C.functionReferenceButton,leadingVisual:A,onClick:e,variant:"invisible",sx:a,children:b}),s[22]=j,s[23]=I,s[24]=A,s[25]=b,s[26]=S):S=s[26],t=(0,r.jsxs)(r.Fragment,{children:[S,I&&(0,r.jsxs)("div",{id:j,className:C.functionReferenceListContainer,children:[(0,r.jsx)(x.l,{children:"error"===$?(0,r.jsxs)(x.l.Item,{children:[d,(0,r.jsx)(x.l.Description,{variant:"block",children:M})]}):"unsupported"===$?(0,r.jsxs)(x.l.Item,{children:[M,(0,r.jsx)(x.l.Description,{truncate:!0,children:""})]}):0===w.length?(0,r.jsxs)(x.l.Item,{children:[g,(0,r.jsx)(x.l.Description,{truncate:!0,children:"Try modifying your query by reframing your question."})]}):w.map((e,t)=>e&&(0,r.jsxs)(x.l.LinkItem,{className:"width-fit",href:e.url,onClick:t=>{T&&e.reference&&(c.selectReference(e.reference),t.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,r.jsx)(x.l.LeadingVisual,{children:(0,r.jsx)(y.A,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,r.jsx)(o.A,{className:C.functionReferenceTitle,title:e.title,children:e.title}),(0,r.jsx)(x.l.Description,{variant:"block",children:e.description})]},t))}),(0,r.jsxs)("span",{className:C.functionReferenceListFooter,children:["Copilot used the"," ",(0,r.jsx)("a",{href:N,target:"_blank",rel:"noopener noreferrer",children:v})," ","tool",l&&(0,r.jsxs)(r.Fragment,{children:[". ",l]})]})]})]})}s[0]=l,s[1]=c,s[2]=j,s[3]=u,s[4]=d,s[5]=I,s[6]=m,s[7]=h,s[8]=g,s[9]=p,s[10]=_,s[11]=N,s[12]=v,s[13]=T,s[14]=t,s[15]=n}else t=s[14],n=s[15];return n!==Symbol.for("react.early_return_sentinel")?n:t}function Q(e){return!e}function Y(e){let t,n,s,o=(0,a.c)(15),{chatManager:l,functionCall:c,skillArgs:u,useSelectReference:d}=e,m="GitHub API",h=c.references?.[0];if(h){let e=h.type;if(e.endsWith(".api")){let t=e.split(".")[0];t&&(m=`${t.split("-").map(Z).join(" ")} API`)}else"api-response"===h.type&&(m=`${h.resourceType} API`)}o[0]!==u.endpoint||o[1]!==u.endpointDescription?(t=u.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${u.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${u.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${u.endpointDescription}`,successButtonText:`Using the GitHub API to ${u.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${u.endpoint}`,inProgressMessage:`Fetching endpoint ${u.endpoint}`,noResultsMessage:`Unable to fetch from ${u.endpoint}`,successButtonText:`Using endpoint ${u.endpoint}`},o[0]=u.endpoint,o[1]=u.endpointDescription,o[2]=t):t=o[2];let g=t;return o[3]!==u?(n=e=>e.references?.filter(X).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:i.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:i.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:i.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:i.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:i.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:i.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:i.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:i.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:i.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:i.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:i.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:i.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:i.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:i.InfoIcon,title:"API results"}}})(e,u))??[],o[3]=u,o[4]=n):n=o[4],o[5]!==l||o[6]!==c||o[7]!==g.errorButtonText||o[8]!==g.inProgressMessage||o[9]!==g.noResultsMessage||o[10]!==g.successButtonText||o[11]!==n||o[12]!==m||o[13]!==d?(s=(0,r.jsx)(J,{chatManager:l,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:m,functionCall:c,errorButtonText:g.errorButtonText,inProgressMessage:g.inProgressMessage,noResultsMessage:g.noResultsMessage,successButtonText:g.successButtonText,useSelectReference:d,resultsMapper:n}),o[5]=l,o[6]=c,o[7]=g.errorButtonText,o[8]=g.inProgressMessage,o[9]=g.noResultsMessage,o[10]=g.successButtonText,o[11]=n,o[12]=m,o[13]=d,o[14]=s):s=o[14],s}function X(e){return"text"!==e.type}function Z(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e){let t,n=(0,a.c)(7),{chatManager:s,functionCall:i,skillArgs:o}=e,l=`An error occurred when retrieving \u{201C}${o.name}\u{201D}`,c=`Getting Figma file \u{201C}${o.name}\u{201D}`,u=`Unable to retrieve \u{201C}${o.name}\u{201D}`,d=`Using result from \u{201C}${o.name}\u{201D}`;return n[0]!==s||n[1]!==i||n[2]!==l||n[3]!==c||n[4]!==u||n[5]!==d?(t=(0,r.jsx)(J,{chatManager:s,errorButtonText:l,errorTitle:"An error occurred retrieving Figma file",toolLink:"https://figma.com",toolName:"Get Figma",functionCall:i,inProgressMessage:c,noResultsMessage:u,resultsMapper:et,successButtonText:d,useSelectReference:!1}),n[0]=s,n[1]=i,n[2]=l,n[3]=c,n[4]=u,n[5]=d,n[6]=t):t=n[6],t}function et(e){let t=e.references?.[0];return[{title:t?.title||"",url:t?.url||"",description:""}]}let en="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function er(e){let t,n,s=(0,a.c)(8),{chatManager:i,functionCall:o,skillArgs:l}=e,c=l.rawUserQuery;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(g.A,{href:en,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),s[0]=t):t=s[0];let u=`An error occurred when searching for \u{201C}${c}\u{201D}`,d=`Searching support documents for \u{201C}${c}\u{201D}`,m=`No support documents for \u{201C}${c}\u{201D} were found`,h=`Using support search results for \u{201C}${c}\u{201D}`;return s[1]!==i||s[2]!==o||s[3]!==u||s[4]!==d||s[5]!==m||s[6]!==h?(n=(0,r.jsx)(J,{additionalFooterContent:t,chatManager:i,errorButtonText:u,errorTitle:"An error occurred when searching support documents",toolLink:en,toolName:"Support Search",functionCall:o,inProgressMessage:d,noResultsMessage:m,resultsMapper:ea,successButtonText:h,useSelectReference:!1}),s[1]=i,s[2]=o,s[3]=u,s[4]=d,s[5]=m,s[6]=h,s[7]=n):n=s[7],n}function ea(e){return(e.references?.[0]?.results??[]).map(es)}function es(e){return{title:e.title,url:e.url,description:e.url}}function ei(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,_.Z8)(e),leadingIcon:i.CodeIcon,reference:e,title:(0,_.z$)(e),url:e.url}:void 0)}try{v.displayName||(v.displayName="BingFunctionButton")}catch{}try{k.displayName||(k.displayName="BingGroundingFunctionButton")}catch{}try{S.displayName||(S.displayName="CodeSearchButton")}catch{}try{w.displayName||(w.displayName="KnowledgeBaseSearchButton")}catch{}try{$.displayName||($.displayName="GetFileButton")}catch{}try{R.displayName||(R.displayName="GetFileChangesButton")}catch{}try{B.displayName||(B.displayName="GetAlertButton")}catch{}try{D.displayName||(D.displayName="GetDiscussionButton")}catch{}try{O.displayName||(O.displayName="FunctionLoading")}catch{}try{z.displayName||(z.displayName="PlanButton")}catch{}try{V.displayName||(V.displayName="GetJobLogsButton")}catch{}try{J.displayName||(J.displayName="ExpandableFunctionButton")}catch{}try{Y.displayName||(Y.displayName="GetGitHubDataButton")}catch{}try{ee.displayName||(ee.displayName="FigmaButton")}catch{}try{er.displayName||(er.displayName="SupportSearchButton")}catch{}let eo=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.SearchIcon,{}),t[0]=e):e=t[0],e},el=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.FileIcon,{}),t[0]=e):e=t[0],e},ec=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.TagIcon,{}),t[0]=e):e=t[0],e},eu=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.PlayIcon,{}),t[0]=e):e=t[0],e},ed=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.BookIcon,{}),t[0]=e):e=t[0],e},em=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.CommentDiscussionIcon,{}),t[0]=e):e=t[0],e},eh=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(i.TasklistIcon,{}),t[0]=e):e=t[0],e},eg=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(eg,{}),t[0]=e):e=t[0],e},ep="planning response",ef=e=>{switch(e.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${e.query}"`,completedText:`Bing results for "${e.query}"`,icon:s._,name:"Bing search",activeSkillText:"searching Bing"};case"lexical-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.scopingQuery}"`,completedText:`Search results for "${e.query}" in "${e.scopingQuery}"`,icon:eo,name:"Code search",activeSkillText:"searching the codebase"};case"semantic-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,completedText:`Search results for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,icon:eo,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${e.query}" in the knowledge base`,completedText:`Knowledge base search results for "${e.query}"`,icon:ed,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,r.jsx)(i.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${e.endpoint}`,completedText:`Results of ${e.endpoint}`,icon:ec,name:"Get GitHub Data",activeSkillText:"getting data"};case"get-actions-job-logs":{let t=K(e),n=t.charAt(0).toUpperCase()+t.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${t} in ${e.repo}`,completedText:`${n} in ${e.repo}`,icon:eu,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${e.discussionNumber}`,completedText:`Details about discussion #${e.discussionNumber}`,icon:em,name:"Get discussion",activeSkillText:"getting discussion"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:el,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${e.path} in ${e.repo}`,icon:el,name:"Get file changes",activeSkillText:"searching for file changes"};case"planskill":return{id:"planskill",loadingText:"Planning response...",completedText:"Plan created",icon:eh,name:"Plan skill",activeSkillText:"planning response"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:ed,name:"Support search",activeSkillText:"searching for support documents"};case"get-figma":return{id:"getfigma",loadingText:"Analyzing Figma file",completedText:"Using results of Figma file",icon:ed,name:"Get Figma",activeSkillText:"analyzing Figma file"};case"codesearchagentskill":return{id:"codesearchagentskill",loadingText:"Using the code search agent",completedText:"Using results of code search agent",icon:ed,name:"Code Search Agent",activeSkillText:"searching the codebase"};case"draft-issue":return{id:"draft-issue",loadingText:e.repository?`Drafting issue in ${e.repository}`:"Drafting issue ",completedText:e.repository?`Drafted issue in ${e.repository}`:"Drafted issue",icon:eg,name:"Draft Issue",activeSkillText:e.repository?`drafting issue in ${e.repository}`:"drafting issue"};case"repository-metadata":return{id:"repository-metadata",loadingText:`Fetching metadata from ${e.repository}`,completedText:`Using metadata from ${e.repository}`,icon:eg,name:"Repository Metadata",activeSkillText:`fetching metadata from ${e.repository}`}}};function ex(e){let t,n,s,i,l=(0,a.c)(10),{maxWidth:c,functionMetadata:u}=e;return l[0]!==u?(t=u.icon(),l[0]=u,l[1]=t):t=l[1],l[2]!==c?(n={maxWidth:c},l[2]=c,l[3]=n):n=l[3],l[4]!==u.completedText||l[5]!==n?(s=(0,r.jsx)(o.A,{title:u.completedText,sx:n,children:u.completedText}),l[4]=u.completedText,l[5]=n,l[6]=s):s=l[6],l[7]!==t||l[8]!==s?(i=(0,r.jsxs)(r.Fragment,{children:[t,s]}),l[7]=t,l[8]=s,l[9]=i):i=l[9],i}function ey(e){let t,n,s,i,l=(0,a.c)(10),{maxWidth:c,functionMetadata:u}=e;return l[0]!==u?(t=u.icon(),l[0]=u,l[1]=t):t=l[1],l[2]!==c?(n={maxWidth:c},l[2]=c,l[3]=n):n=l[3],l[4]!==u.loadingText||l[5]!==n?(s=(0,r.jsx)(o.A,{title:u.loadingText,sx:n,children:u.loadingText}),l[4]=u.loadingText,l[5]=n,l[6]=s):s=l[6],l[7]!==t||l[8]!==s?(i=(0,r.jsxs)(r.Fragment,{children:[t,s]}),l[7]=t,l[8]=s,l[9]=i):i=l[9],i}function eb(e){let t,n,s,i,o,d,m,h,g,p=(0,a.c)(15),{functionCall:f,functionMetadata:x}=e;return p[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2},p[0]=t):t=p[0],p[1]===Symbol.for("react.memo_cache_sentinel")?(n={fontSize:1},p[1]=n):n=p[1],p[2]!==x.activeSkillText?(s=(0,r.jsxs)(l.A,{as:"h3",sx:n,children:["An error occurred while ",x.activeSkillText]}),p[2]=x.activeSkillText,p[3]=s):s=p[3],p[4]===Symbol.for("react.memo_cache_sentinel")?(i={m:0},p[4]=i):i=p[4],p[5]!==f.errorMessage?(o=(0,r.jsx)(c.A,{as:"p",sx:i,children:f.errorMessage}),p[5]=f.errorMessage,p[6]=o):o=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(d={mt:2,mb:0,fontSize:0,fontWeight:"normal",color:"fg.subtle"},p[7]=d):d=p[7],p[8]===Symbol.for("react.memo_cache_sentinel")?(m={fontWeight:"semibold"},p[8]=m):m=p[8],p[9]!==x.name?(h=(0,r.jsxs)(c.A,{as:"p",sx:d,children:["Copilot used the ",(0,r.jsx)(c.A,{sx:m,children:x.name})," tool"]}),p[9]=x.name,p[10]=h):h=p[10],p[11]!==s||p[12]!==o||p[13]!==h?(g=(0,r.jsxs)(u.A,{sx:t,children:[s,o,h]}),p[11]=s,p[12]=o,p[13]=h,p[14]=g):g=p[14],g}function e_(e){let t,n,s,i=(0,a.c)(7),{functionCall:o,functionMetadata:l,panelWidth:c}=e,d=c?c-130:h.J.DEFAULT_PANEL_WIDTH;i[0]!==o||i[1]!==l||i[2]!==d?(t=o?.status==="error"?(0,r.jsx)(eb,{functionCall:o,functionMetadata:l}):o?.status==="completed"?(0,r.jsx)(ex,{maxWidth:d,functionMetadata:l}):(0,r.jsx)(ey,{maxWidth:d,functionMetadata:l}),i[0]=o,i[1]=l,i[2]=d,i[3]=t):t=i[3];let m=t;return i[4]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",gap:"6px",alignItems:"center"},i[4]=n):n=i[4],i[5]!==m?(s=(0,r.jsx)(u.A,{sx:n,children:m}),i[5]=m,i[6]=s):s=i[6],s}function eN(e,t,n,a,s,i){if(!e||"confirmation error"===e.errorMessage)return null;switch(s.kind){case"bing-search":if(m.W.bingGroundingUIEnabled)return(0,r.jsx)(k,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});return(0,r.jsx)(v,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"lexical-code-search":case"semantic-code-search":return(0,r.jsx)(S,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"getalert":return(0,r.jsx)(B,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"getfile":return(0,r.jsx)($,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"getfilechanges":return(0,r.jsx)(R,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"getdiscussion":return(0,r.jsx)(D,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"get-actions-job-logs":return(0,r.jsx)(V,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"kb-search":return(0,r.jsx)(w,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"planskill":return(0,r.jsx)(z,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"get-github-data":return(0,r.jsx)(Y,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"support-search":return(0,r.jsx)(er,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});case"get-figma":if(!m.W.immersiveFigmaIntegration)return(0,r.jsx)(r.Fragment,{});return(0,r.jsx)(ee,{chatManager:n,functionCall:e,skillArgs:s,useSelectReference:i});default:return(0,r.jsx)("div",{className:"border rounded-2 p-2",children:(0,r.jsx)(e_,{functionCall:e,functionMetadata:t,panelWidth:a,parsedArgs:s})})}}function eC(e){let t,n=(0,a.c)(8);e:{let r,a,s;if(!e.arguments||!d.xP.includes(e.slug)){let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e={functionMetadata:void 0,functionRenderer:void 0,parsedArgs:void 0},n[0]=e):e=n[0],t=e;break e}n[1]!==e.arguments||n[2]!==e.slug?(a=ef(r={...JSON.parse(e.arguments),kind:e.slug}),n[1]=e.arguments,n[2]=e.slug,n[3]=r,n[4]=a):(r=n[3],a=n[4]);let i=a;n[5]!==i||n[6]!==r?(s={functionMetadata:i,functionRenderer:eN,parsedArgs:r},n[5]=i,n[6]=r,n[7]=s):s=n[7],t=s}return t}function ev(e){if(!e)return ep;let t=function(e){if(e)return ef({...JSON.parse(e?.arguments||"{}"),kind:e.slug})}(e);return e.statusMessage??t?.activeSkillText??ep}try{eo.displayName||(eo.displayName="CodeSearchIcon")}catch{}try{el.displayName||(el.displayName="GetFileIcon")}catch{}try{ec.displayName||(ec.displayName="ReleaseIcon")}catch{}try{eu.displayName||(eu.displayName="JobIcon")}catch{}try{ed.displayName||(ed.displayName="KnowledgeBaseIcon")}catch{}try{em.displayName||(em.displayName="DiscussionIcon")}catch{}try{eh.displayName||(eh.displayName="PlanIcon")}catch{}try{eg.displayName||(eg.displayName="IssueDraftIcon")}catch{}try{ex.displayName||(ex.displayName="FunctionCompleted")}catch{}try{ey.displayName||(ey.displayName="FunctionLoading")}catch{}try{eb.displayName||(eb.displayName="FunctionError")}catch{}try{e_.displayName||(e_.displayName="FunctionTitle")}catch{}},4699:(e,t,n)=>{n.d(t,{h:()=>l});var r=n(74848),a=n(21728),s=n(95726),i=n(34164);let o={interruptedBanner:"InterruptedBanner-module__interruptedBanner--XDG6C",hasContent:"InterruptedBanner-module__hasContent--NwTH4"};function l(e){let t,n,l=(0,a.c)(4),{messageHasContent:c}=e,u=c&&o.hasContent;return l[0]!==u?(t=(0,i.$)(o.interruptedBanner,u),l[0]=u,l[1]=t):t=l[1],l[2]!==t?(n=(0,r.jsx)(s.l,{className:t,"data-testid":"chat-message-interrupted",description:"Copilot was interrupted before it could finish this message.",hideTitle:!0,title:"Message interrupted",variant:"info"}),l[2]=t,l[3]=n):n=l[3],n}try{l.displayName||(l.displayName="InterruptedBanner")}catch{}},87928:(e,t,n)=>{n.d(t,{$:()=>c});var r=n(74848),a=n(21728),s=n(38621),i=n(87330),o=n(31637),l=n(66912);function c(e){let t,n,c=(0,a.c)(11),{handleRetryMessage:u,disabled:d,showModelPicker:m,model:h,navigateToNewThread:g}=e,p=void 0!==d&&d,f=void 0!==m&&m;c[0]!==u||c[1]!==h?(t=()=>{u(h)},c[0]=u,c[1]=h,c[2]=t):t=c[2];let x=t,{isLicensedLimited:y}=(0,o.xR)();if(f&&(!g||!h))throw Error("navigateToNewThread and model must be provided in order to show the model picker");return c[3]!==p||c[4]!==x||c[5]!==u||c[6]!==y||c[7]!==h||c[8]!==g||c[9]!==f?(n=f?(0,r.jsx)(l.Yb,{onNewThreadSelected:g,limited:y,type:"message-retry",selectedModel:h,onModelSelected:u,disabled:p}):(0,r.jsx)(i.K,{variant:"invisible","aria-label":"Retry","data-testid":"retry-button",onClick:x,icon:s.SyncIcon,disabled:p}),c[3]=p,c[4]=x,c[5]=u,c[6]=y,c[7]=h,c[8]=g,c[9]=f,c[10]=n):n=c[10],n}try{c.displayName||(c.displayName="RetryButton")}catch{}},5279:(e,t,n)=>{n.d(t,{M:()=>l});var r=n(74848),a=n(21728),s=n(69676),i=n(82678),o=n(96540);function l(e){let t,n,l,c,u=(0,a.c)(8);u[0]!==e?({className:t,...n}=e,u[0]=e,u[1]=t,u[2]=n):(t=u[1],n=u[2]);let d=(0,o.useRef)(null);return u[3]===Symbol.for("react.memo_cache_sentinel")?(l={containerRef:d,focusInStrategy:"first",focusOutBehavior:"stop",bindKeys:s.z0.ArrowHorizontal|s.z0.HomeAndEnd},u[3]=l):l=u[3],(0,i.G)(l),u[4]!==t||u[5]!==e.children||u[6]!==n?(c=(0,r.jsx)("div",{ref:d,className:t,role:"toolbar",...n,children:e.children}),u[4]=t,u[5]=e.children,u[6]=n,u[7]=c):c=u[7],c}try{l.displayName||(l.displayName="Toolbar")}catch{}},85332:(e,t,n)=>{n.d(t,{R:()=>h});var r=n(74848),a=n(21728),s=n(34614),i=n(34164),o=n(7277),l=n(39818),c=n(36721),u=n(13897),d=n(83880),m=n(10370);function h(e){let t,n,s,h,p,f,x,y=(0,a.c)(24),{className:b,accessibleHeader:_}=e,{message:N}=(0,d.V)(),C=N.content??"";y[0]!==C?(t=(0,u._)(C),y[0]=C,y[1]=t):t=y[1];let{availableAgents:v}=(0,l.JE)(t);y[2]!==v?(n=void 0===v?[]:v,y[2]=v,y[3]=n):n=y[3];let T=n;if(y[4]!==_||y[5]!==T||y[6]!==b||y[7]!==N.references||y[8]!==C){let e;y[12]!==N.references?(e=N.references??[],y[12]=N.references,y[13]=e):e=y[13];let t=(0,o.l)().use(c.U,{references:e,agents:T}).parse(C);y[14]!==_?(p=_&&(0,r.jsx)("h3",{className:"sr-only",children:_}),y[14]=_,y[15]=p):p=y[15],y[16]!==b?(s=(0,i.$)(m.A.container,b),y[16]=b,y[17]=s):s=y[17],h=t.children.map(g),y[4]=_,y[5]=T,y[6]=b,y[7]=N.references,y[8]=C,y[9]=s,y[10]=h,y[11]=p}else s=y[9],h=y[10],p=y[11];return y[18]!==s||y[19]!==h?(f=(0,r.jsx)("div",{className:s,children:h}),y[18]=s,y[19]=h,y[20]=f):f=y[20],y[21]!==p||y[22]!==f?(x=(0,r.jsxs)(r.Fragment,{children:[p,f]}),y[21]=p,y[22]=f,y[23]=x):x=y[23],x}function g(e,t){switch(e.type){case"text":return e.value;case"agent-mention":return(0,r.jsx)(p,{agent:e.data.mentionedAgent,children:e.value},t);case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,r.jsx)("span",{className:m.A.mention,children:e.value},t):e.value}}function p(e){let t,n=(0,a.c)(4),{agent:i,children:o}=e,l=`/integrations/${i.slug}/hovercard`;return n[0]!==i.integrationUrl||n[1]!==o||n[2]!==l?(t=(0,r.jsx)(s.A,{href:i.integrationUrl,"data-hovercard-url":l,className:m.A.mention,children:o}),n[0]=i.integrationUrl,n[1]=o,n[2]=l,n[3]=t):t=n[3],t}try{h.displayName||(h.displayName="UserMessage")}catch{}try{p.displayName||(p.displayName="AgentLink")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-72fdab-26cf7d9039e3.js.map